"use strict";(globalThis.webpackChunkmy_profile_site=globalThis.webpackChunkmy_profile_site||[]).push([[9551],{5206:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>s,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"design-patterns/behavioral/mediator","title":"Mediator Pattern","description":"Define an object that encapsulates how a set of objects interact. Mediator promotes loose coupling by keeping objects from referring to each other explicitly, and it lets you vary their interaction independently.","source":"@site/docs/design-patterns/behavioral/mediator.md","sourceDirName":"design-patterns/behavioral","slug":"/design-patterns/behavioral/mediator","permalink":"/docs/design-patterns/behavioral/mediator","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":9,"frontMatter":{"sidebar_position":9},"sidebar":"tutorialSidebar","previous":{"title":"Interpreter Pattern","permalink":"/docs/design-patterns/behavioral/interpreter"},"next":{"title":"Memento Pattern","permalink":"/docs/design-patterns/behavioral/memento"}}');var a=t(74848),r=t(28453);const o={sidebar_position:9},s="Mediator Pattern",l={},d=[{value:"Problem",id:"problem",level:2},{value:"Design Principles Applied",id:"design-principles-applied",level:2},{value:"UML Diagram",id:"uml-diagram",level:2},{value:"Implementation",id:"implementation",level:2},{value:"Example 1: Chat Room",id:"example-1-chat-room",level:3},{value:"Step 1: Define the Mediator Interface",id:"step-1-define-the-mediator-interface",level:3},{value:"Step 2: Define the Colleague",id:"step-2-define-the-colleague",level:3},{value:"Step 3: Create the Concrete Mediator",id:"step-3-create-the-concrete-mediator",level:3},{value:"Step 4: Create Concrete Colleagues",id:"step-4-create-concrete-colleagues",level:3},{value:"Step 5: Client Usage",id:"step-5-client-usage",level:3},{value:"Example 2: UI Form Mediator",id:"example-2-ui-form-mediator",level:2},{value:"Real-World Examples",id:"real-world-examples",level:2},{value:"Mediator vs Similar Patterns",id:"mediator-vs-similar-patterns",level:2}];function c(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",mermaid:"mermaid",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"mediator-pattern",children:"Mediator Pattern"})}),"\n",(0,a.jsx)(n.p,{children:"Define an object that encapsulates how a set of objects interact. Mediator promotes loose coupling by keeping objects from referring to each other explicitly, and it lets you vary their interaction independently."}),"\n",(0,a.jsx)(n.h2,{id:"problem",children:"Problem"}),"\n",(0,a.jsx)(n.p,{children:"You have a set of objects that communicate directly with each other, creating a tightly coupled web of dependencies. Any change to one object requires understanding and updating all the others it talks to."}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Common Scenarios:"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Chat rooms where users send messages through a central hub"}),"\n",(0,a.jsx)(n.li,{children:"Air traffic control systems coordinating aircraft"}),"\n",(0,a.jsx)(n.li,{children:"UI forms where enabling one component affects others"}),"\n",(0,a.jsx)(n.li,{children:"Event bus or message broker systems"}),"\n",(0,a.jsx)(n.li,{children:"Smart home hubs coordinating devices"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"design-principles-applied",children:"Design Principles Applied"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Principle of Least Knowledge"})," - Colleagues only know the mediator, not each other"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Single Responsibility"})," - Interaction logic is centralised in the mediator"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Open/Closed Principle"})," - Add new colleagues without changing existing ones"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"uml-diagram",children:"UML Diagram"}),"\n",(0,a.jsx)(n.mermaid,{value:'classDiagram\n    class Mediator {\n        <<interface>>\n        +notify(sender, event)\n    }\n    class ConcreteMediator {\n        -ConcreteColleague1 colleague1\n        -ConcreteColleague2 colleague2\n        +notify(sender, event)\n    }\n    class Colleague {\n        <<abstract>>\n        -Mediator mediator\n        +setMediator(Mediator)\n    }\n    class ConcreteColleague1 {\n        +doAction()\n    }\n    class ConcreteColleague2 {\n        +doAction()\n    }\n    class Client {\n        <<actor>>\n    }\n    note for Client "Represents any code that uses the pattern, not a concrete class"\n    Client --\x3e ConcreteMediator\n    Mediator <|.. ConcreteMediator : implements\n    Colleague <|-- ConcreteColleague1 : extends\n    Colleague <|-- ConcreteColleague2 : extends\n    ConcreteMediator --\x3e ConcreteColleague1\n    ConcreteMediator --\x3e ConcreteColleague2\n    Colleague --\x3e Mediator : mediator'}),"\n",(0,a.jsx)(n.h2,{id:"implementation",children:"Implementation"}),"\n",(0,a.jsx)(n.h3,{id:"example-1-chat-room",children:"Example 1: Chat Room"}),"\n",(0,a.jsx)(n.p,{children:"Users send messages through a central chat room rather than directly to each other."}),"\n",(0,a.jsx)(n.h3,{id:"step-1-define-the-mediator-interface",children:"Step 1: Define the Mediator Interface"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"public interface ChatMediator {\n    void sendMessage(String message, User sender);\n    void addUser(User user);\n}\n"})}),"\n",(0,a.jsx)(n.h3,{id:"step-2-define-the-colleague",children:"Step 2: Define the Colleague"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"public abstract class User {\n    protected ChatMediator mediator;\n    protected String name;\n\n    public User(ChatMediator mediator, String name) {\n        this.mediator = mediator;\n        this.name = name;\n    }\n\n    public abstract void send(String message);\n    public abstract void receive(String message);\n}\n"})}),"\n",(0,a.jsx)(n.h3,{id:"step-3-create-the-concrete-mediator",children:"Step 3: Create the Concrete Mediator"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'public class ChatRoom implements ChatMediator {\n    private final List<User> users = new ArrayList<>();\n\n    @Override\n    public void addUser(User user) {\n        users.add(user);\n    }\n\n    @Override\n    public void sendMessage(String message, User sender) {\n        for (User user : users) {\n            // Don\'t send the message back to the sender\n            if (user != sender) {\n                user.receive("[" + sender.name + "]: " + message);\n            }\n        }\n    }\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"step-4-create-concrete-colleagues",children:"Step 4: Create Concrete Colleagues"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'public class ChatUser extends User {\n    public ChatUser(ChatMediator mediator, String name) {\n        super(mediator, name);\n    }\n\n    @Override\n    public void send(String message) {\n        System.out.println(name + " sends: " + message);\n        mediator.sendMessage(message, this);\n    }\n\n    @Override\n    public void receive(String message) {\n        System.out.println(name + " receives: " + message);\n    }\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"step-5-client-usage",children:"Step 5: Client Usage"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'ChatRoom chatRoom = new ChatRoom();\n\nChatUser alice = new ChatUser(chatRoom, "Alice");\nChatUser bob   = new ChatUser(chatRoom, "Bob");\nChatUser carol = new ChatUser(chatRoom, "Carol");\n\nchatRoom.addUser(alice);\nchatRoom.addUser(bob);\nchatRoom.addUser(carol);\n\nalice.send("Hello everyone!");\n// Alice sends: Hello everyone!\n// Bob receives: [Alice]: Hello everyone!\n// Carol receives: [Alice]: Hello everyone!\n\nbob.send("Hey Alice!");\n// Bob sends: Hey Alice!\n// Alice receives: [Bob]: Hey Alice!\n// Carol receives: [Bob]: Hey Alice!\n'})}),"\n",(0,a.jsx)(n.h2,{id:"example-2-ui-form-mediator",children:"Example 2: UI Form Mediator"}),"\n",(0,a.jsx)(n.p,{children:"A dialog box where components affect each other \u2014 checking a checkbox enables a text field and a button."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'public interface DialogMediator {\n    void componentChanged(Component component);\n}\n\npublic abstract class Component {\n    protected DialogMediator mediator;\n\n    public Component(DialogMediator mediator) {\n        this.mediator = mediator;\n    }\n}\n\npublic class Checkbox extends Component {\n    private boolean checked;\n\n    public Checkbox(DialogMediator mediator) { super(mediator); }\n\n    public boolean isChecked() { return checked; }\n\n    public void setChecked(boolean checked) {\n        this.checked = checked;\n        mediator.componentChanged(this);\n    }\n}\n\npublic class TextField extends Component {\n    private boolean enabled;\n\n    public TextField(DialogMediator mediator) { super(mediator); }\n\n    public void setEnabled(boolean enabled) {\n        this.enabled = enabled;\n        System.out.println("TextField is now " + (enabled ? "enabled" : "disabled"));\n    }\n}\n\npublic class SubmitButton extends Component {\n    private boolean enabled;\n\n    public SubmitButton(DialogMediator mediator) { super(mediator); }\n\n    public void setEnabled(boolean enabled) {\n        this.enabled = enabled;\n        System.out.println("Submit button is now " + (enabled ? "enabled" : "disabled"));\n    }\n}\n\npublic class RegistrationDialog implements DialogMediator {\n    private final Checkbox agreeCheckbox;\n    private final TextField nameField;\n    private final SubmitButton submitButton;\n\n    public RegistrationDialog() {\n        agreeCheckbox = new Checkbox(this);\n        nameField     = new TextField(this);\n        submitButton  = new SubmitButton(this);\n    }\n\n    @Override\n    public void componentChanged(Component component) {\n        if (component == agreeCheckbox) {\n            boolean agreed = agreeCheckbox.isChecked();\n            nameField.setEnabled(agreed);\n            submitButton.setEnabled(agreed);\n        }\n    }\n}\n\n// Usage\nRegistrationDialog dialog = new RegistrationDialog();\ndialog.agreeCheckbox.setChecked(true);\n// TextField is now enabled\n// Submit button is now enabled\n'})}),"\n",(0,a.jsx)(n.h2,{id:"real-world-examples",children:"Real-World Examples"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Java Message Service (JMS)"})," \u2014 message broker acts as mediator between producers and consumers"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsxs)(n.strong,{children:["Spring ",(0,a.jsx)(n.code,{children:"ApplicationEventPublisher"})]})," \u2014 components publish events; the publisher routes them to listeners"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Redux store (JavaScript)"})," \u2014 central store mediates state changes between UI components"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Air Traffic Control"})," \u2014 all aircraft communicate through the tower, not with each other directly"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"mediator-vs-similar-patterns",children:"Mediator vs Similar Patterns"}),"\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"Pattern"}),(0,a.jsx)(n.th,{children:"Intent"}),(0,a.jsx)(n.th,{children:"Coupling"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.strong,{children:"Mediator"})}),(0,a.jsx)(n.td,{children:"Centralise complex interactions between many objects"}),(0,a.jsx)(n.td,{children:"Colleagues are decoupled from each other, coupled to mediator"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.strong,{children:"Observer"})}),(0,a.jsx)(n.td,{children:"Notify dependents of state changes"}),(0,a.jsx)(n.td,{children:"Subject decoupled from observers via interface"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.strong,{children:"Facade"})}),(0,a.jsx)(n.td,{children:"Simplify a complex subsystem"}),(0,a.jsx)(n.td,{children:"One-way \u2014 client talks to facade, not vice versa"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.strong,{children:"Command"})}),(0,a.jsx)(n.td,{children:"Encapsulate a request as an object"}),(0,a.jsx)(n.td,{children:"Decouples invoker from receiver, no coordination hub"})]})]})]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>s});var i=t(96540);const a={},r=i.createContext(a);function o(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);