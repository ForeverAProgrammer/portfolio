"use strict";(globalThis.webpackChunkmy_profile_site=globalThis.webpackChunkmy_profile_site||[]).push([[8030],{5539:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>p,frontMatter:()=>a,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"languages/typescript/testing/jest","title":"Jest with TypeScript","description":"Jest is a delightful JavaScript testing framework with a focus on simplicity. With ts-jest, it provides first-class TypeScript support, making it the industry standard for testing TypeScript applications.","source":"@site/docs/languages/typescript/testing/jest.md","sourceDirName":"languages/typescript/testing","slug":"/languages/typescript/testing/jest","permalink":"/portfolio/docs/languages/typescript/testing/jest","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Cypress E2E Testing","permalink":"/portfolio/docs/languages/typescript/testing/cypress"},"next":{"title":"Vitest Testing","permalink":"/portfolio/docs/languages/typescript/testing/vitest"}}');var r=t(4848),i=t(8453);const a={sidebar_position:3},o="Jest with TypeScript",c={},l=[{value:"Why Jest for TypeScript?",id:"why-jest-for-typescript",level:2},{value:"Strengths",id:"strengths",level:3},{value:"Use Cases",id:"use-cases",level:3},{value:"Installation",id:"installation",level:2},{value:"Configuration",id:"configuration",level:2},{value:"jest.config.js",id:"jestconfigjs",level:3},{value:"jest.config.ts (TypeScript Config)",id:"jestconfigts-typescript-config",level:3},{value:"package.json Scripts",id:"packagejson-scripts",level:3},{value:"tsconfig.json",id:"tsconfigjson",level:3},{value:"Basic Examples",id:"basic-examples",level:2},{value:"Simple Unit Tests",id:"simple-unit-tests",level:3},{value:"Type-Safe Testing",id:"type-safe-testing",level:2},{value:"Testing with Interfaces",id:"testing-with-interfaces",level:3},{value:"Mocking with TypeScript",id:"mocking-with-typescript",level:2},{value:"Type-Safe Mocks with jest.Mocked",id:"type-safe-mocks-with-jestmocked",level:3},{value:"Mocking Modules",id:"mocking-modules",level:3},{value:"Testing Async Code",id:"testing-async-code",level:2},{value:"Testing Type Guards and Generics",id:"testing-type-guards-and-generics",level:2},{value:"Type Guards",id:"type-guards",level:3},{value:"Generic Functions",id:"generic-functions",level:3},{value:"Snapshot Testing",id:"snapshot-testing",level:2},{value:"Setup and Teardown",id:"setup-and-teardown",level:2},{value:"Code Coverage",id:"code-coverage",level:2},{value:"Collecting Coverage",id:"collecting-coverage",level:3},{value:"Coverage Thresholds",id:"coverage-thresholds",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"1. Use Descriptive Test Names",id:"1-use-descriptive-test-names",level:3},{value:"2. Organize Tests with describe Blocks",id:"2-organize-tests-with-describe-blocks",level:3},{value:"3. Use Test Factories",id:"3-use-test-factories",level:3},{value:"4. Avoid Test Interdependence",id:"4-avoid-test-interdependence",level:3},{value:"Common Jest Matchers",id:"common-jest-matchers",level:2},{value:"Related Topics",id:"related-topics",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"jest-with-typescript",children:"Jest with TypeScript"})}),"\n",(0,r.jsx)(n.p,{children:"Jest is a delightful JavaScript testing framework with a focus on simplicity. With ts-jest, it provides first-class TypeScript support, making it the industry standard for testing TypeScript applications."}),"\n",(0,r.jsx)(n.h2,{id:"why-jest-for-typescript",children:"Why Jest for TypeScript?"}),"\n",(0,r.jsx)(n.h3,{id:"strengths",children:"Strengths"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Zero Configuration"})," - Works out of the box for most projects"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"All-in-One"})," - Test runner, assertions, mocking, and coverage in one package"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Snapshot Testing"})," - Capture and compare component snapshots"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Great DX"})," - Watch mode, parallel execution, clear error messages"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Type Safety"})," - Full TypeScript support with jest.Mocked<T>"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Rich Ecosystem"})," - Extensive community plugins and integrations"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"use-cases",children:"Use Cases"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"React and Vue applications"}),"\n",(0,r.jsx)(n.li,{children:"Node.js applications"}),"\n",(0,r.jsx)(n.li,{children:"API and backend testing"}),"\n",(0,r.jsx)(n.li,{children:"Unit and integration testing"}),"\n",(0,r.jsx)(n.li,{children:"Any TypeScript/JavaScript project"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Install Jest and TypeScript support\nnpm install --save-dev jest ts-jest @types/jest typescript\n\n# Initialize Jest with TypeScript\nnpx ts-jest config:init\n"})}),"\n",(0,r.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,r.jsx)(n.h3,{id:"jestconfigjs",children:"jest.config.js"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"module.exports = {\n  preset: 'ts-jest',\n  testEnvironment: 'node',\n  roots: ['<rootDir>/src'],\n  testMatch: ['**/__tests__/**/*.ts', '**/?(*.)+(spec|test).ts'],\n  collectCoverageFrom: [\n    'src/**/*.{ts,tsx}',\n    '!src/**/*.d.ts',\n    '!src/**/*.test.ts',\n    '!src/**/*.spec.ts'\n  ],\n  coverageThreshold: {\n    global: {\n      branches: 80,\n      functions: 80,\n      lines: 80,\n      statements: 80\n    }\n  }\n};\n"})}),"\n",(0,r.jsx)(n.h3,{id:"jestconfigts-typescript-config",children:"jest.config.ts (TypeScript Config)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"import type { Config } from 'jest';\n\nconst config: Config = {\n  preset: 'ts-jest',\n  testEnvironment: 'node',\n  roots: ['<rootDir>/src'],\n  testMatch: ['**/__tests__/**/*.ts', '**/?(*.)+(spec|test).ts'],\n  collectCoverageFrom: [\n    'src/**/*.{ts,tsx}',\n    '!src/**/*.d.ts',\n    '!src/**/*.test.ts'\n  ],\n  moduleNameMapper: {\n    '^@/(.*)$': '<rootDir>/src/$1'\n  }\n};\n\nexport default config;\n"})}),"\n",(0,r.jsx)(n.h3,{id:"packagejson-scripts",children:"package.json Scripts"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "scripts": {\n    "test": "jest",\n    "test:watch": "jest --watch",\n    "test:coverage": "jest --coverage",\n    "test:verbose": "jest --verbose"\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"tsconfigjson",children:"tsconfig.json"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "compilerOptions": {\n    "target": "ES2020",\n    "module": "commonjs",\n    "strict": true,\n    "esModuleInterop": true,\n    "skipLibCheck": true,\n    "forceConsistentCasingInFileNames": true,\n    "types": ["jest", "node"]\n  },\n  "include": ["src/**/*"],\n  "exclude": ["node_modules", "dist"]\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"basic-examples",children:"Basic Examples"}),"\n",(0,r.jsx)(n.h3,{id:"simple-unit-tests",children:"Simple Unit Tests"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"// src/math.ts\nexport function add(a: number, b: number): number {\n  return a + b;\n}\n\nexport function subtract(a: number, b: number): number {\n  return a - b;\n}\n\nexport function multiply(a: number, b: number): number {\n  return a * b;\n}\n\nexport function divide(a: number, b: number): number {\n  if (b === 0) {\n    throw new Error('Division by zero');\n  }\n  return a / b;\n}\n\n// src/math.test.ts\nimport { add, subtract, multiply, divide } from './math';\n\ndescribe('Math utilities', () => {\n  describe('add', () => {\n    test('adds two positive numbers', () => {\n      expect(add(2, 3)).toBe(5);\n    });\n\n    test('adds negative numbers', () => {\n      expect(add(-5, -3)).toBe(-8);\n    });\n\n    test('adds zero', () => {\n      expect(add(10, 0)).toBe(10);\n    });\n  });\n\n  describe('subtract', () => {\n    test('subtracts two numbers', () => {\n      expect(subtract(10, 3)).toBe(7);\n    });\n  });\n\n  describe('divide', () => {\n    test('divides two numbers', () => {\n      expect(divide(10, 2)).toBe(5);\n    });\n\n    test('throws error on division by zero', () => {\n      expect(() => divide(10, 0)).toThrow('Division by zero');\n    });\n  });\n});\n"})}),"\n",(0,r.jsx)(n.h2,{id:"type-safe-testing",children:"Type-Safe Testing"}),"\n",(0,r.jsx)(n.h3,{id:"testing-with-interfaces",children:"Testing with Interfaces"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"// src/types.ts\nexport interface User {\n  id: number;\n  name: string;\n  email: string;\n  role: 'admin' | 'user';\n  createdAt: Date;\n}\n\nexport interface UserRepository {\n  findById(id: number): Promise<User | null>;\n  create(user: Omit<User, 'id' | 'createdAt'>): Promise<User>;\n  update(id: number, data: Partial<User>): Promise<User | null>;\n  delete(id: number): Promise<boolean>;\n}\n\n// src/userRepository.ts\nexport class InMemoryUserRepository implements UserRepository {\n  private users = new Map<number, User>();\n  private nextId = 1;\n\n  async findById(id: number): Promise<User | null> {\n    return this.users.get(id) || null;\n  }\n\n  async create(userData: Omit<User, 'id' | 'createdAt'>): Promise<User> {\n    const user: User = {\n      ...userData,\n      id: this.nextId++,\n      createdAt: new Date()\n    };\n    this.users.set(user.id, user);\n    return user;\n  }\n\n  async update(id: number, data: Partial<User>): Promise<User | null> {\n    const user = this.users.get(id);\n    if (!user) return null;\n\n    const updated = { ...user, ...data };\n    this.users.set(id, updated);\n    return updated;\n  }\n\n  async delete(id: number): Promise<boolean> {\n    return this.users.delete(id);\n  }\n}\n\n// src/userRepository.test.ts\nimport { InMemoryUserRepository } from './userRepository';\nimport { User } from './types';\n\ndescribe('InMemoryUserRepository', () => {\n  let repository: InMemoryUserRepository;\n\n  beforeEach(() => {\n    repository = new InMemoryUserRepository();\n  });\n\n  describe('create', () => {\n    test('creates a new user with generated ID and timestamp', async () => {\n      const userData = {\n        name: 'John Doe',\n        email: 'john@example.com',\n        role: 'user' as const\n      };\n\n      const user = await repository.create(userData);\n\n      expect(user).toMatchObject({\n        name: 'John Doe',\n        email: 'john@example.com',\n        role: 'user'\n      });\n      expect(user.id).toBe(1);\n      expect(user.createdAt).toBeInstanceOf(Date);\n    });\n\n    test('assigns unique IDs to users', async () => {\n      const user1 = await repository.create({\n        name: 'User 1',\n        email: 'user1@example.com',\n        role: 'user'\n      });\n      const user2 = await repository.create({\n        name: 'User 2',\n        email: 'user2@example.com',\n        role: 'admin'\n      });\n\n      expect(user1.id).toBe(1);\n      expect(user2.id).toBe(2);\n    });\n  });\n\n  describe('findById', () => {\n    test('returns user when found', async () => {\n      const created = await repository.create({\n        name: 'Test User',\n        email: 'test@example.com',\n        role: 'user'\n      });\n\n      const found = await repository.findById(created.id);\n\n      expect(found).toEqual(created);\n    });\n\n    test('returns null when user not found', async () => {\n      const result = await repository.findById(999);\n      expect(result).toBeNull();\n    });\n  });\n\n  describe('update', () => {\n    test('updates user fields', async () => {\n      const user = await repository.create({\n        name: 'Original Name',\n        email: 'original@example.com',\n        role: 'user'\n      });\n\n      const updated = await repository.update(user.id, {\n        name: 'Updated Name'\n      });\n\n      expect(updated).not.toBeNull();\n      expect(updated!.name).toBe('Updated Name');\n      expect(updated!.email).toBe('original@example.com');\n    });\n\n    test('returns null for non-existent user', async () => {\n      const result = await repository.update(999, { name: 'Test' });\n      expect(result).toBeNull();\n    });\n  });\n\n  describe('delete', () => {\n    test('deletes existing user', async () => {\n      const user = await repository.create({\n        name: 'To Delete',\n        email: 'delete@example.com',\n        role: 'user'\n      });\n\n      const deleted = await repository.delete(user.id);\n      expect(deleted).toBe(true);\n\n      const found = await repository.findById(user.id);\n      expect(found).toBeNull();\n    });\n\n    test('returns false for non-existent user', async () => {\n      const result = await repository.delete(999);\n      expect(result).toBe(false);\n    });\n  });\n});\n"})}),"\n",(0,r.jsx)(n.h2,{id:"mocking-with-typescript",children:"Mocking with TypeScript"}),"\n",(0,r.jsx)(n.h3,{id:"type-safe-mocks-with-jestmocked",children:"Type-Safe Mocks with jest.Mocked"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"// src/services/userService.ts\nimport { UserRepository, User } from '../types';\n\nexport class UserService {\n  constructor(private repository: UserRepository) {}\n\n  async getUserById(id: number): Promise<User> {\n    const user = await this.repository.findById(id);\n    if (!user) {\n      throw new Error(`User ${id} not found`);\n    }\n    return user;\n  }\n\n  async registerUser(\n    data: Omit<User, 'id' | 'createdAt'>\n  ): Promise<User> {\n    // Validate email\n    if (!data.email.includes('@')) {\n      throw new Error('Invalid email format');\n    }\n    return this.repository.create(data);\n  }\n}\n\n// src/services/userService.test.ts\nimport { UserService } from './userService';\nimport { UserRepository, User } from '../types';\n\n// Create a mock repository with proper typing\nconst mockRepository: jest.Mocked<UserRepository> = {\n  findById: jest.fn(),\n  create: jest.fn(),\n  update: jest.fn(),\n  delete: jest.fn()\n};\n\ndescribe('UserService', () => {\n  let service: UserService;\n\n  beforeEach(() => {\n    service = new UserService(mockRepository);\n    jest.clearAllMocks();\n  });\n\n  describe('getUserById', () => {\n    test('returns user when found', async () => {\n      const mockUser: User = {\n        id: 1,\n        name: 'John Doe',\n        email: 'john@example.com',\n        role: 'user',\n        createdAt: new Date()\n      };\n\n      mockRepository.findById.mockResolvedValue(mockUser);\n\n      const result = await service.getUserById(1);\n\n      expect(result).toEqual(mockUser);\n      expect(mockRepository.findById).toHaveBeenCalledWith(1);\n      expect(mockRepository.findById).toHaveBeenCalledTimes(1);\n    });\n\n    test('throws error when user not found', async () => {\n      mockRepository.findById.mockResolvedValue(null);\n\n      await expect(service.getUserById(999)).rejects.toThrow(\n        'User 999 not found'\n      );\n    });\n  });\n\n  describe('registerUser', () => {\n    test('creates user with valid data', async () => {\n      const userData = {\n        name: 'Jane Doe',\n        email: 'jane@example.com',\n        role: 'user' as const\n      };\n\n      const mockCreatedUser: User = {\n        ...userData,\n        id: 1,\n        createdAt: new Date()\n      };\n\n      mockRepository.create.mockResolvedValue(mockCreatedUser);\n\n      const result = await service.registerUser(userData);\n\n      expect(result).toEqual(mockCreatedUser);\n      expect(mockRepository.create).toHaveBeenCalledWith(userData);\n    });\n\n    test('throws error for invalid email', async () => {\n      const userData = {\n        name: 'Invalid User',\n        email: 'notanemail',\n        role: 'user' as const\n      };\n\n      await expect(service.registerUser(userData)).rejects.toThrow(\n        'Invalid email format'\n      );\n\n      expect(mockRepository.create).not.toHaveBeenCalled();\n    });\n  });\n});\n"})}),"\n",(0,r.jsx)(n.h3,{id:"mocking-modules",children:"Mocking Modules"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"// src/api/client.ts\nexport async function fetchUser(id: number): Promise<User> {\n  const response = await fetch(`https://api.example.com/users/${id}`);\n  if (!response.ok) {\n    throw new Error(`HTTP error! status: ${response.status}`);\n  }\n  return response.json();\n}\n\n// src/api/client.test.ts\nimport { fetchUser } from './client';\n\n// Mock the global fetch\nglobal.fetch = jest.fn();\n\ndescribe('fetchUser', () => {\n  beforeEach(() => {\n    jest.clearAllMocks();\n  });\n\n  test('fetches user successfully', async () => {\n    const mockUser = {\n      id: 1,\n      name: 'John Doe',\n      email: 'john@example.com',\n      role: 'user' as const,\n      createdAt: new Date()\n    };\n\n    (fetch as jest.Mock).mockResolvedValue({\n      ok: true,\n      json: async () => mockUser\n    });\n\n    const result = await fetchUser(1);\n\n    expect(result).toEqual(mockUser);\n    expect(fetch).toHaveBeenCalledWith('https://api.example.com/users/1');\n  });\n\n  test('throws error on failed request', async () => {\n    (fetch as jest.Mock).mockResolvedValue({\n      ok: false,\n      status: 404\n    });\n\n    await expect(fetchUser(999)).rejects.toThrow('HTTP error! status: 404');\n  });\n});\n"})}),"\n",(0,r.jsx)(n.h2,{id:"testing-async-code",children:"Testing Async Code"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"// src/async.ts\nexport async function fetchData(): Promise<string> {\n  return new Promise((resolve) => {\n    setTimeout(() => resolve('data'), 100);\n  });\n}\n\nexport async function fetchWithError(): Promise<string> {\n  return new Promise((_, reject) => {\n    setTimeout(() => reject(new Error('Failed to fetch')), 100);\n  });\n}\n\n// src/async.test.ts\nimport { fetchData, fetchWithError } from './async';\n\ndescribe('Async functions', () => {\n  test('resolves with data', async () => {\n    const result = await fetchData();\n    expect(result).toBe('data');\n  });\n\n  test('handles promise rejection', async () => {\n    await expect(fetchWithError()).rejects.toThrow('Failed to fetch');\n  });\n\n  test('using done callback', (done) => {\n    fetchData().then((result) => {\n      expect(result).toBe('data');\n      done();\n    });\n  });\n\n  test('using resolves matcher', () => {\n    return expect(fetchData()).resolves.toBe('data');\n  });\n});\n"})}),"\n",(0,r.jsx)(n.h2,{id:"testing-type-guards-and-generics",children:"Testing Type Guards and Generics"}),"\n",(0,r.jsx)(n.h3,{id:"type-guards",children:"Type Guards"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"// src/guards.ts\nexport interface Dog {\n  kind: 'dog';\n  bark(): void;\n}\n\nexport interface Cat {\n  kind: 'cat';\n  meow(): void;\n}\n\nexport type Animal = Dog | Cat;\n\nexport function isDog(animal: Animal): animal is Dog {\n  return animal.kind === 'dog';\n}\n\nexport function isCat(animal: Animal): animal is Cat {\n  return animal.kind === 'cat';\n}\n\n// src/guards.test.ts\nimport { isDog, isCat, Dog, Cat } from './guards';\n\ndescribe('Animal type guards', () => {\n  const dog: Dog = {\n    kind: 'dog',\n    bark: jest.fn()\n  };\n\n  const cat: Cat = {\n    kind: 'cat',\n    meow: jest.fn()\n  };\n\n  test('isDog identifies dogs', () => {\n    expect(isDog(dog)).toBe(true);\n    expect(isDog(cat)).toBe(false);\n  });\n\n  test('isCat identifies cats', () => {\n    expect(isCat(cat)).toBe(true);\n    expect(isCat(dog)).toBe(false);\n  });\n});\n"})}),"\n",(0,r.jsx)(n.h3,{id:"generic-functions",children:"Generic Functions"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"// src/generics.ts\nexport function identity<T>(value: T): T {\n  return value;\n}\n\nexport function toArray<T>(value: T | T[]): T[] {\n  return Array.isArray(value) ? value : [value];\n}\n\nexport function first<T>(arr: T[]): T | undefined {\n  return arr[0];\n}\n\n// src/generics.test.ts\nimport { identity, toArray, first } from './generics';\n\ndescribe('Generic functions', () => {\n  describe('identity', () => {\n    test('returns the same value for numbers', () => {\n      expect(identity(42)).toBe(42);\n    });\n\n    test('returns the same value for strings', () => {\n      expect(identity('hello')).toBe('hello');\n    });\n\n    test('returns the same object reference', () => {\n      const obj = { a: 1 };\n      expect(identity(obj)).toBe(obj);\n    });\n  });\n\n  describe('toArray', () => {\n    test('wraps single value in array', () => {\n      expect(toArray(5)).toEqual([5]);\n      expect(toArray('hello')).toEqual(['hello']);\n    });\n\n    test('returns array as-is', () => {\n      expect(toArray([1, 2, 3])).toEqual([1, 2, 3]);\n    });\n  });\n\n  describe('first', () => {\n    test('returns first element', () => {\n      expect(first([1, 2, 3])).toBe(1);\n      expect(first(['a', 'b'])).toBe('a');\n    });\n\n    test('returns undefined for empty array', () => {\n      expect(first([])).toBeUndefined();\n    });\n  });\n});\n"})}),"\n",(0,r.jsx)(n.h2,{id:"snapshot-testing",children:"Snapshot Testing"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"// src/formatUser.ts\nimport { User } from './types';\n\nexport function formatUserProfile(user: User): string {\n  return `\n    User Profile\n    ------------\n    ID: ${user.id}\n    Name: ${user.name}\n    Email: ${user.email}\n    Role: ${user.role}\n    Created: ${user.createdAt.toISOString()}\n  `;\n}\n\n// src/formatUser.test.ts\nimport { formatUserProfile } from './formatUser';\nimport { User } from './types';\n\ndescribe('formatUserProfile', () => {\n  test('formats user profile correctly', () => {\n    const user: User = {\n      id: 1,\n      name: 'John Doe',\n      email: 'john@example.com',\n      role: 'user',\n      createdAt: new Date('2024-01-01T00:00:00.000Z')\n    };\n\n    expect(formatUserProfile(user)).toMatchInlineSnapshot(`\n      \"\n          User Profile\n          ------------\n          ID: 1\n          Name: John Doe\n          Email: john@example.com\n          Role: user\n          Created: 2024-01-01T00:00:00.000Z\n        \"\n    `);\n  });\n});\n"})}),"\n",(0,r.jsx)(n.h2,{id:"setup-and-teardown",children:"Setup and Teardown"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"describe('Database operations', () => {\n  let db: Database;\n\n  // Runs once before all tests in this describe block\n  beforeAll(async () => {\n    db = await connectToDatabase();\n  });\n\n  // Runs before each test\n  beforeEach(async () => {\n    await db.clear();\n  });\n\n  // Runs after each test\n  afterEach(async () => {\n    await db.clearCache();\n  });\n\n  // Runs once after all tests\n  afterAll(async () => {\n    await db.disconnect();\n  });\n\n  test('inserts data', async () => {\n    await db.insert({ id: 1, name: 'Test' });\n    const result = await db.findById(1);\n    expect(result).toBeDefined();\n  });\n});\n"})}),"\n",(0,r.jsx)(n.h2,{id:"code-coverage",children:"Code Coverage"}),"\n",(0,r.jsx)(n.h3,{id:"collecting-coverage",children:"Collecting Coverage"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Run tests with coverage\nnpm test -- --coverage\n\n# Coverage with specific reporters\nnpm test -- --coverage --coverageReporters=text --coverageReporters=html\n\n# Watch mode with coverage\nnpm test -- --watch --coverage\n"})}),"\n",(0,r.jsx)(n.h3,{id:"coverage-thresholds",children:"Coverage Thresholds"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"// jest.config.js\nmodule.exports = {\n  coverageThreshold: {\n    global: {\n      branches: 80,\n      functions: 80,\n      lines: 80,\n      statements: 80\n    },\n    './src/critical/**/*.ts': {\n      branches: 95,\n      functions: 95,\n      lines: 95,\n      statements: 95\n    }\n  }\n};\n"})}),"\n",(0,r.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,r.jsx)(n.h3,{id:"1-use-descriptive-test-names",children:"1. Use Descriptive Test Names"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"// Good\ntest('should throw error when email is invalid', () => {});\n\n// Better\ntest('registerUser throws ValidationError when email is missing @ symbol', () => {});\n"})}),"\n",(0,r.jsx)(n.h3,{id:"2-organize-tests-with-describe-blocks",children:"2. Organize Tests with describe Blocks"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"describe('UserService', () => {\n  describe('authentication', () => {\n    test('authenticates valid credentials', () => {});\n    test('rejects invalid credentials', () => {});\n  });\n\n  describe('registration', () => {\n    test('creates new user', () => {});\n    test('prevents duplicate emails', () => {});\n  });\n});\n"})}),"\n",(0,r.jsx)(n.h3,{id:"3-use-test-factories",children:"3. Use Test Factories"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"function createTestUser(overrides?: Partial<User>): User {\n  return {\n    id: 1,\n    name: 'Test User',\n    email: 'test@example.com',\n    role: 'user',\n    createdAt: new Date(),\n    ...overrides\n  };\n}\n\ntest('updates user name', () => {\n  const user = createTestUser({ name: 'Custom Name' });\n  expect(user.name).toBe('Custom Name');\n});\n"})}),"\n",(0,r.jsx)(n.h3,{id:"4-avoid-test-interdependence",children:"4. Avoid Test Interdependence"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"// Bad - tests depend on each other\nlet sharedUser: User;\ntest('creates user', () => {\n  sharedUser = createUser();\n});\ntest('updates user', () => {\n  updateUser(sharedUser); // Depends on previous test\n});\n\n// Good - each test is independent\ntest('creates user', () => {\n  const user = createUser();\n  expect(user).toBeDefined();\n});\ntest('updates user', () => {\n  const user = createUser();\n  updateUser(user);\n  expect(user.updated).toBe(true);\n});\n"})}),"\n",(0,r.jsx)(n.h2,{id:"common-jest-matchers",children:"Common Jest Matchers"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"// Equality\nexpect(value).toBe(5);                    // Strict equality (===)\nexpect(obj).toEqual({ a: 1 });            // Deep equality\nexpect(value).toStrictEqual({ a: 1 });    // Strict deep equality\n\n// Truthiness\nexpect(value).toBeTruthy();\nexpect(value).toBeFalsy();\nexpect(value).toBeNull();\nexpect(value).toBeUndefined();\nexpect(value).toBeDefined();\n\n// Numbers\nexpect(value).toBeGreaterThan(10);\nexpect(value).toBeGreaterThanOrEqual(10);\nexpect(value).toBeLessThan(100);\nexpect(value).toBeCloseTo(0.3, 5);        // Floating point\n\n// Strings\nexpect(str).toMatch(/regex/);\nexpect(str).toContain('substring');\n\n// Arrays and Iterables\nexpect(arr).toContain(item);\nexpect(arr).toHaveLength(3);\nexpect(arr).toContainEqual({ a: 1 });\n\n// Objects\nexpect(obj).toHaveProperty('key');\nexpect(obj).toHaveProperty('key', 'value');\nexpect(obj).toMatchObject({ a: 1 });\n\n// Exceptions\nexpect(() => fn()).toThrow();\nexpect(() => fn()).toThrow(Error);\nexpect(() => fn()).toThrow('message');\n\n// Promises\nawait expect(promise).resolves.toBe(value);\nawait expect(promise).rejects.toThrow();\n\n// Mock functions\nexpect(mockFn).toHaveBeenCalled();\nexpect(mockFn).toHaveBeenCalledTimes(2);\nexpect(mockFn).toHaveBeenCalledWith(arg1, arg2);\nexpect(mockFn).toHaveBeenLastCalledWith(arg);\n"})}),"\n",(0,r.jsx)(n.h2,{id:"related-topics",children:"Related Topics"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/portfolio/docs/languages/typescript/testing/",children:"TypeScript Testing Overview"})," - Testing framework comparison"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/portfolio/docs/languages/typescript/testing/vitest",children:"Vitest Testing"})," - Next-generation testing with Vitest"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/portfolio/docs/languages/typescript/testing/mocha-chai",children:"Mocha + Chai Testing"})," - BDD/TDD style testing"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/portfolio/docs/languages/typescript/testing/cypress",children:"Cypress E2E Testing"})," - End-to-end testing"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"../fundamentals/",children:"TypeScript Fundamentals"})," - Core TypeScript concepts"]}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>o});var s=t(6540);const r={},i=s.createContext(r);function a(e){const n=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);