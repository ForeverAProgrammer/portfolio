"use strict";(globalThis.webpackChunkmy_profile_site=globalThis.webpackChunkmy_profile_site||[]).push([[7004],{5903:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>i,default:()=>d,frontMatter:()=>o,metadata:()=>a,toc:()=>l});const a=JSON.parse('{"id":"cloud/aws/cloudformation","title":"CloudFormation - Infrastructure as Code","description":"What is CloudFormation?","source":"@site/docs/cloud/aws/cloudformation.md","sourceDirName":"cloud/aws","slug":"/cloud/aws/cloudformation","permalink":"/portfolio/docs/cloud/aws/cloudformation","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"AWS Guide","permalink":"/portfolio/docs/cloud/aws/"},"next":{"title":"EC2 - Elastic Compute Cloud","permalink":"/portfolio/docs/cloud/aws/ec2"}}');var r=t(4848),s=t(8453);const o={sidebar_position:1},i="CloudFormation - Infrastructure as Code",c={},l=[{value:"What is CloudFormation?",id:"what-is-cloudformation",level:2},{value:"Key Concepts",id:"key-concepts",level:2},{value:"CloudFormation Template Structure",id:"cloudformation-template-structure",level:2},{value:"Basic Example: EC2 Instance",id:"basic-example-ec2-instance",level:2},{value:"VPC with Public and Private Subnets",id:"vpc-with-public-and-private-subnets",level:2},{value:"Deploying CloudFormation Stacks",id:"deploying-cloudformation-stacks",level:2},{value:"CloudFormation Best Practices",id:"cloudformation-best-practices",level:2}];function u(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"cloudformation---infrastructure-as-code",children:"CloudFormation - Infrastructure as Code"})}),"\n",(0,r.jsx)(n.h2,{id:"what-is-cloudformation",children:"What is CloudFormation?"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"CloudFormation"})," allows you to define AWS infrastructure as code using JSON or YAML templates. This enables version control, repeatability, and automation of infrastructure provisioning."]}),"\n",(0,r.jsx)(n.h2,{id:"key-concepts",children:"Key Concepts"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Template"})," - JSON or YAML file defining resources\n",(0,r.jsx)(n.strong,{children:"Stack"})," - Collection of AWS resources created from a template\n",(0,r.jsx)(n.strong,{children:"Change Set"})," - Preview of changes before updating a stack"]}),"\n",(0,r.jsx)(n.h2,{id:"cloudformation-template-structure",children:"CloudFormation Template Structure"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"AWSTemplateFormatVersion: '2010-09-09'\nDescription: 'CloudFormation template description'\n\nParameters:\n  # Input parameters\n\nResources:\n  # AWS resources to create\n\nOutputs:\n  # Values to export\n"})}),"\n",(0,r.jsx)(n.h2,{id:"basic-example-ec2-instance",children:"Basic Example: EC2 Instance"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"AWSTemplateFormatVersion: '2010-09-09'\nDescription: 'Simple EC2 instance'\n\nParameters:\n  InstanceType:\n    Type: String\n    Default: t3.micro\n    AllowedValues:\n      - t3.micro\n      - t3.small\n      - t3.medium\n    Description: EC2 instance type\n\n  KeyName:\n    Type: AWS::EC2::KeyPair::KeyName\n    Description: SSH key pair name\n\nResources:\n  MyEC2Instance:\n    Type: AWS::EC2::Instance\n    Properties:\n      InstanceType: !Ref InstanceType\n      ImageId: ami-0c55b159cbfafe1f0  # Amazon Linux 2 (us-east-1)\n      KeyName: !Ref KeyName\n      SecurityGroupIds:\n        - !Ref MySecurityGroup\n      Tags:\n        - Key: Name\n          Value: MyWebServer\n\n  MySecurityGroup:\n    Type: AWS::EC2::SecurityGroup\n    Properties:\n      GroupDescription: Allow SSH and HTTP\n      SecurityGroupIngress:\n        - IpProtocol: tcp\n          FromPort: 22\n          ToPort: 22\n          CidrIp: 0.0.0.0/0\n        - IpProtocol: tcp\n          FromPort: 80\n          ToPort: 80\n          CidrIp: 0.0.0.0/0\n\nOutputs:\n  InstanceId:\n    Description: Instance ID\n    Value: !Ref MyEC2Instance\n  PublicIP:\n    Description: Public IP address\n    Value: !GetAtt MyEC2Instance.PublicIp\n"})}),"\n",(0,r.jsx)(n.h2,{id:"vpc-with-public-and-private-subnets",children:"VPC with Public and Private Subnets"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"AWSTemplateFormatVersion: '2010-09-09'\nDescription: 'VPC with public and private subnets'\n\nResources:\n  MyVPC:\n    Type: AWS::EC2::VPC\n    Properties:\n      CidrBlock: 10.0.0.0/16\n      EnableDnsHostnames: true\n      EnableDnsSupport: true\n      Tags:\n        - Key: Name\n          Value: MyVPC\n\n  PublicSubnet:\n    Type: AWS::EC2::Subnet\n    Properties:\n      VpcId: !Ref MyVPC\n      CidrBlock: 10.0.1.0/24\n      AvailabilityZone: !Select [0, !GetAZs '']\n      MapPublicIpOnLaunch: true\n      Tags:\n        - Key: Name\n          Value: Public Subnet\n\n  PrivateSubnet:\n    Type: AWS::EC2::Subnet\n    Properties:\n      VpcId: !Ref MyVPC\n      CidrBlock: 10.0.2.0/24\n      AvailabilityZone: !Select [0, !GetAZs '']\n      Tags:\n        - Key: Name\n          Value: Private Subnet\n\n  InternetGateway:\n    Type: AWS::EC2::InternetGateway\n    Properties:\n      Tags:\n        - Key: Name\n          Value: MyIGW\n\n  AttachGateway:\n    Type: AWS::EC2::VPCGatewayAttachment\n    Properties:\n      VpcId: !Ref MyVPC\n      InternetGatewayId: !Ref InternetGateway\n\n  PublicRouteTable:\n    Type: AWS::EC2::RouteTable\n    Properties:\n      VpcId: !Ref MyVPC\n      Tags:\n        - Key: Name\n          Value: Public Route Table\n\n  PublicRoute:\n    Type: AWS::EC2::Route\n    DependsOn: AttachGateway\n    Properties:\n      RouteTableId: !Ref PublicRouteTable\n      DestinationCidrBlock: 0.0.0.0/0\n      GatewayId: !Ref InternetGateway\n\n  SubnetRouteTableAssociation:\n    Type: AWS::EC2::SubnetRouteTableAssociation\n    Properties:\n      SubnetId: !Ref PublicSubnet\n      RouteTableId: !Ref PublicRouteTable\n\nOutputs:\n  VPCId:\n    Description: VPC ID\n    Value: !Ref MyVPC\n    Export:\n      Name: !Sub '${AWS::StackName}-VPC'\n\n  PublicSubnetId:\n    Description: Public Subnet ID\n    Value: !Ref PublicSubnet\n    Export:\n      Name: !Sub '${AWS::StackName}-PublicSubnet'\n"})}),"\n",(0,r.jsx)(n.h2,{id:"deploying-cloudformation-stacks",children:"Deploying CloudFormation Stacks"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Using AWS CLI:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Create stack\naws cloudformation create-stack \\\n  --stack-name my-stack \\\n  --template-body file://template.yaml \\\n  --parameters ParameterKey=KeyName,ParameterValue=my-key\n\n# Update stack\naws cloudformation update-stack \\\n  --stack-name my-stack \\\n  --template-body file://template.yaml\n\n# Delete stack\naws cloudformation delete-stack \\\n  --stack-name my-stack\n\n# Describe stack\naws cloudformation describe-stacks \\\n  --stack-name my-stack\n\n# List all stacks\naws cloudformation list-stacks\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Using AWS Console:"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Navigate to CloudFormation service"}),"\n",(0,r.jsx)(n.li,{children:'Click "Create stack"'}),"\n",(0,r.jsx)(n.li,{children:"Upload template file or paste template"}),"\n",(0,r.jsx)(n.li,{children:"Enter stack name and parameters"}),"\n",(0,r.jsx)(n.li,{children:"Review and create"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"cloudformation-best-practices",children:"CloudFormation Best Practices"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"1. Use Parameters for Flexibility"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"Parameters:\n  Environment:\n    Type: String\n    Default: dev\n    AllowedValues: [dev, staging, prod]\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"2. Use Intrinsic Functions"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"# !Ref - Reference parameters or resources\nInstanceType: !Ref InstanceTypeParameter\n\n# !GetAtt - Get attribute of resource\nPublicIp: !GetAtt MyEC2Instance.PublicIp\n\n# !Sub - String substitution\nName: !Sub '${AWS::StackName}-instance'\n\n# !Join - Join strings\nSecurityGroupIds: !Join [',', !Ref SecurityGroups]\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"3. Export Values for Cross-Stack References"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"Outputs:\n  VPCId:\n    Value: !Ref MyVPC\n    Export:\n      Name: SharedVPC\n\n# In another stack:\nResources:\n  MyInstance:\n    Type: AWS::EC2::Instance\n    Properties:\n      SubnetId: !ImportValue SharedVPC\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"4. Use Nested Stacks for Modularity"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"Resources:\n  NetworkStack:\n    Type: AWS::CloudFormation::Stack\n    Properties:\n      TemplateURL: https://s3.amazonaws.com/bucket/network.yaml\n      Parameters:\n        VPCCidr: 10.0.0.0/16\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Master Infrastructure as Code with CloudFormation for repeatable, version-controlled AWS deployments!"})})]})}function d(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(u,{...e})}):u(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>i});var a=t(6540);const r={},s=a.createContext(r);function o(e){const n=a.useContext(s);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),a.createElement(s.Provider,{value:n},e.children)}}}]);