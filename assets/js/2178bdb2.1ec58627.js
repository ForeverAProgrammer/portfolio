"use strict";(globalThis.webpackChunkmy_profile_site=globalThis.webpackChunkmy_profile_site||[]).push([[9911],{28453:(e,n,t)=>{t.d(n,{R:()=>l,x:()=>o});var i=t(96540);const r={},s=i.createContext(r);function l(e){const n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),i.createElement(s.Provider,{value:n},e.children)}},36132:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>p,frontMatter:()=>l,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"design-patterns/behavioral/chain-of-responsibility","title":"Chain of Responsibility Pattern","description":"Avoid coupling the sender of a request to its receiver by giving more than one object a chance to handle the request. Chain the receiving objects and pass the request along the chain until an object handles it.","source":"@site/docs/design-patterns/behavioral/chain-of-responsibility.md","sourceDirName":"design-patterns/behavioral","slug":"/design-patterns/behavioral/chain-of-responsibility","permalink":"/docs/design-patterns/behavioral/chain-of-responsibility","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":7,"frontMatter":{"sidebar_position":7},"sidebar":"tutorialSidebar","previous":{"title":"State Pattern","permalink":"/docs/design-patterns/behavioral/state"},"next":{"title":"Interpreter Pattern","permalink":"/docs/design-patterns/behavioral/interpreter"}}');var r=t(74848),s=t(28453);const l={sidebar_position:7},o="Chain of Responsibility Pattern",a={},c=[{value:"Problem",id:"problem",level:2},{value:"Design Principles Applied",id:"design-principles-applied",level:2},{value:"UML Diagram",id:"uml-diagram",level:2},{value:"Implementation",id:"implementation",level:2},{value:"Example: Support Ticket Escalation",id:"example-support-ticket-escalation",level:3},{value:"Step 1: Define the Abstract Handler",id:"step-1-define-the-abstract-handler",level:3},{value:"Step 2: Define the Request",id:"step-2-define-the-request",level:3},{value:"Step 3: Create Concrete Handlers",id:"step-3-create-concrete-handlers",level:3},{value:"Step 4: Assemble the Chain",id:"step-4-assemble-the-chain",level:3},{value:"Example 2: Logging by Severity",id:"example-2-logging-by-severity",level:2},{value:"Real-World Examples",id:"real-world-examples",level:2},{value:"Chain of Responsibility vs Similar Patterns",id:"chain-of-responsibility-vs-similar-patterns",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",mermaid:"mermaid",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"chain-of-responsibility-pattern",children:"Chain of Responsibility Pattern"})}),"\n",(0,r.jsx)(n.p,{children:"Avoid coupling the sender of a request to its receiver by giving more than one object a chance to handle the request. Chain the receiving objects and pass the request along the chain until an object handles it."}),"\n",(0,r.jsx)(n.h2,{id:"problem",children:"Problem"}),"\n",(0,r.jsx)(n.p,{children:"You need to decouple the sender of a request from its handler, and multiple objects may be able to handle the request. You don't want the sender to know which object will ultimately handle it."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Common Scenarios:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Multi-level approval workflows (e.g. purchase approvals by amount)"}),"\n",(0,r.jsx)(n.li,{children:"Logging frameworks routing messages by severity level"}),"\n",(0,r.jsx)(n.li,{children:"Event bubbling in UI frameworks"}),"\n",(0,r.jsx)(n.li,{children:"Middleware pipelines (HTTP request/response processing)"}),"\n",(0,r.jsx)(n.li,{children:"Technical support escalation tiers"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"design-principles-applied",children:"Design Principles Applied"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Single Responsibility Principle"})," - Each handler handles only what it is responsible for"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Open/Closed Principle"})," - Add new handlers without modifying existing ones"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Loose Coupling"})," - Sender has no knowledge of which handler processes the request"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"uml-diagram",children:"UML Diagram"}),"\n",(0,r.jsx)(n.mermaid,{value:'classDiagram\n    class Handler {\n        <<abstract>>\n        -Handler successor\n        +setSuccessor(Handler)\n        +handleRequest()*\n    }\n    class ConcreteHandler1 {\n        +handleRequest()\n    }\n    class ConcreteHandler2 {\n        +handleRequest()\n    }\n    class Client {\n        <<actor>>\n    }\n    note for Client "Represents any code that uses the pattern, not a concrete class"\n    Client --\x3e Handler\n    Handler <|-- ConcreteHandler1 : extends\n    Handler <|-- ConcreteHandler2 : extends\n    Handler --\x3e Handler : successor'}),"\n",(0,r.jsx)(n.h2,{id:"implementation",children:"Implementation"}),"\n",(0,r.jsx)(n.h3,{id:"example-support-ticket-escalation",children:"Example: Support Ticket Escalation"}),"\n",(0,r.jsx)(n.h3,{id:"step-1-define-the-abstract-handler",children:"Step 1: Define the Abstract Handler"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:"public abstract class SupportHandler {\n    protected SupportHandler successor;\n\n    public void setSuccessor(SupportHandler successor) {\n        this.successor = successor;\n    }\n\n    public abstract void handleRequest(SupportTicket ticket);\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"step-2-define-the-request",children:"Step 2: Define the Request"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:"public class SupportTicket {\n    public enum Priority { LOW, MEDIUM, HIGH, CRITICAL }\n\n    private String description;\n    private Priority priority;\n\n    public SupportTicket(String description, Priority priority) {\n        this.description = description;\n        this.priority = priority;\n    }\n\n    public Priority getPriority() { return priority; }\n    public String getDescription() { return description; }\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"step-3-create-concrete-handlers",children:"Step 3: Create Concrete Handlers"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'public class FrontlineSupport extends SupportHandler {\n    @Override\n    public void handleRequest(SupportTicket ticket) {\n        if (ticket.getPriority() == SupportTicket.Priority.LOW) {\n            System.out.println("Frontline support handling: " + ticket.getDescription());\n        } else if (successor != null) {\n            successor.handleRequest(ticket);\n        }\n    }\n}\n\npublic class TechnicalSupport extends SupportHandler {\n    @Override\n    public void handleRequest(SupportTicket ticket) {\n        if (ticket.getPriority() == SupportTicket.Priority.MEDIUM) {\n            System.out.println("Technical support handling: " + ticket.getDescription());\n        } else if (successor != null) {\n            successor.handleRequest(ticket);\n        }\n    }\n}\n\npublic class ManagementSupport extends SupportHandler {\n    @Override\n    public void handleRequest(SupportTicket ticket) {\n        if (ticket.getPriority() == SupportTicket.Priority.HIGH\n                || ticket.getPriority() == SupportTicket.Priority.CRITICAL) {\n            System.out.println("Management handling: " + ticket.getDescription());\n        } else if (successor != null) {\n            successor.handleRequest(ticket);\n        }\n    }\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"step-4-assemble-the-chain",children:"Step 4: Assemble the Chain"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'SupportHandler frontline = new FrontlineSupport();\nSupportHandler technical = new TechnicalSupport();\nSupportHandler management = new ManagementSupport();\n\nfrontline.setSuccessor(technical);\ntechnical.setSuccessor(management);\n\n// Client sends requests to the start of the chain\nfrontline.handleRequest(new SupportTicket("Password reset", SupportTicket.Priority.LOW));\n// Frontline support handling: Password reset\n\nfrontline.handleRequest(new SupportTicket("Database corruption", SupportTicket.Priority.CRITICAL));\n// Management handling: Database corruption\n'})}),"\n",(0,r.jsx)(n.h2,{id:"example-2-logging-by-severity",children:"Example 2: Logging by Severity"}),"\n",(0,r.jsx)(n.p,{children:"A logger that routes messages to the appropriate output based on log level \u2014 a classic GoF example."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'public abstract class Logger {\n    public static final int INFO  = 1;\n    public static final int DEBUG = 2;\n    public static final int ERROR = 3;\n\n    protected int level;\n    protected Logger nextLogger;\n\n    public Logger setNext(Logger nextLogger) {\n        this.nextLogger = nextLogger;\n        return nextLogger;\n    }\n\n    public void log(int level, String message) {\n        if (this.level <= level) {\n            write(message);\n        }\n        if (nextLogger != null) {\n            nextLogger.log(level, message);\n        }\n    }\n\n    protected abstract void write(String message);\n}\n\npublic class ConsoleLogger extends Logger {\n    public ConsoleLogger(int level) { this.level = level; }\n\n    @Override\n    protected void write(String message) {\n        System.out.println("Console [INFO]: " + message);\n    }\n}\n\npublic class FileLogger extends Logger {\n    public FileLogger(int level) { this.level = level; }\n\n    @Override\n    protected void write(String message) {\n        System.out.println("File [DEBUG]: " + message);\n    }\n}\n\npublic class ErrorLogger extends Logger {\n    public ErrorLogger(int level) { this.level = level; }\n\n    @Override\n    protected void write(String message) {\n        System.err.println("Error [ERROR]: " + message);\n    }\n}\n\n// Assemble the chain\nLogger errorLogger = new ErrorLogger(Logger.ERROR);\nLogger fileLogger  = new FileLogger(Logger.DEBUG);\nLogger consoleLogger = new ConsoleLogger(Logger.INFO);\n\nconsoleLogger.setNext(fileLogger).setNext(errorLogger);\n\nconsoleLogger.log(Logger.INFO,  "System started");   // Console only\nconsoleLogger.log(Logger.DEBUG, "Debug info");        // Console + File\nconsoleLogger.log(Logger.ERROR, "Something failed");  // Console + File + Error\n'})}),"\n",(0,r.jsx)(n.h2,{id:"real-world-examples",children:"Real-World Examples"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Java Servlet Filters"})," \u2014 each filter in ",(0,r.jsx)(n.code,{children:"FilterChain"})," processes the request then passes it on"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Spring Security filter chain"})," \u2014 authentication, authorisation, and CSRF filters in sequence"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"java.util.logging"})})," \u2014 log records passed up through parent loggers"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"DOM event bubbling"})," \u2014 events propagate from child to parent elements"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"chain-of-responsibility-vs-similar-patterns",children:"Chain of Responsibility vs Similar Patterns"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Pattern"}),(0,r.jsx)(n.th,{children:"Intent"}),(0,r.jsx)(n.th,{children:"Handler decides"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Chain of Responsibility"})}),(0,r.jsx)(n.td,{children:"Pass request along a chain until handled"}),(0,r.jsx)(n.td,{children:"Whether to handle or forward"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Command"})}),(0,r.jsx)(n.td,{children:"Encapsulate a request as an object"}),(0,r.jsx)(n.td,{children:"How to execute a specific action"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Decorator"})}),(0,r.jsx)(n.td,{children:"Add behaviour by wrapping objects"}),(0,r.jsx)(n.td,{children:"Always delegates, never stops the chain"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Strategy"})}),(0,r.jsx)(n.td,{children:"Swap one algorithm for another"}),(0,r.jsx)(n.td,{children:"How to perform an action (no chaining)"})]})]})]})]})}function p(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}}}]);