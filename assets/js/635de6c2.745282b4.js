"use strict";(globalThis.webpackChunkmy_profile_site=globalThis.webpackChunkmy_profile_site||[]).push([[4603],{8353:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>p,frontMatter:()=>r,metadata:()=>a,toc:()=>o});const a=JSON.parse('{"id":"devops/kubernetes","title":"Kubernetes Handbook","description":"Comprehensive resource for orchestrating containers with Kubernetes.","source":"@site/docs/devops/kubernetes.md","sourceDirName":"devops","slug":"/devops/kubernetes","permalink":"/portfolio/docs/devops/kubernetes","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Docker Guide","permalink":"/portfolio/docs/devops/docker"},"next":{"title":"CI/CD Setup","permalink":"/portfolio/docs/devops/cicd"}}');var i=s(4848),l=s(8453);const r={sidebar_position:3},t="Kubernetes Handbook",c={},o=[{value:"Introduction to Kubernetes",id:"introduction-to-kubernetes",level:2},{value:"Core Concepts",id:"core-concepts",level:2},{value:"Pods",id:"pods",level:3},{value:"Deployments",id:"deployments",level:3},{value:"Services",id:"services",level:3},{value:"Getting Started",id:"getting-started",level:2},{value:"Install kubectl",id:"install-kubectl",level:3},{value:"Create a Local Cluster",id:"create-a-local-cluster",level:3},{value:"Essential kubectl Commands",id:"essential-kubectl-commands",level:2},{value:"Cluster Information",id:"cluster-information",level:3},{value:"Working with Resources",id:"working-with-resources",level:3},{value:"Debugging",id:"debugging",level:3},{value:"ConfigMaps and Secrets",id:"configmaps-and-secrets",level:2},{value:"ConfigMap",id:"configmap",level:3},{value:"Secrets",id:"secrets",level:3},{value:"Persistent Storage",id:"persistent-storage",level:2},{value:"PersistentVolumeClaim",id:"persistentvolumeclaim",level:3},{value:"Namespaces",id:"namespaces",level:2},{value:"Scaling",id:"scaling",level:2},{value:"Manual Scaling",id:"manual-scaling",level:3},{value:"Horizontal Pod Autoscaler",id:"horizontal-pod-autoscaler",level:3},{value:"Production Best Practices",id:"production-best-practices",level:2},{value:"1. Resource Limits",id:"1-resource-limits",level:3},{value:"2. Liveness and Readiness Probes",id:"2-liveness-and-readiness-probes",level:3},{value:"3. Pod Disruption Budgets",id:"3-pod-disruption-budgets",level:3},{value:"4. Network Policies",id:"4-network-policies",level:3},{value:"Helm Package Manager",id:"helm-package-manager",level:2},{value:"Next Steps",id:"next-steps",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"kubernetes-handbook",children:"Kubernetes Handbook"})}),"\n",(0,i.jsx)(n.p,{children:"Comprehensive resource for orchestrating containers with Kubernetes."}),"\n",(0,i.jsx)(n.h2,{id:"introduction-to-kubernetes",children:"Introduction to Kubernetes"}),"\n",(0,i.jsx)(n.p,{children:"Kubernetes (K8s) is an open-source container orchestration platform that automates the deployment, scaling, and management of containerized applications."}),"\n",(0,i.jsx)(n.h2,{id:"core-concepts",children:"Core Concepts"}),"\n",(0,i.jsx)(n.h3,{id:"pods",children:"Pods"}),"\n",(0,i.jsx)(n.p,{children:"The smallest deployable unit in Kubernetes:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"apiVersion: v1\nkind: Pod\nmetadata:\n  name: nginx-pod\nspec:\n  containers:\n  - name: nginx\n    image: nginx:1.21\n    ports:\n    - containerPort: 80\n"})}),"\n",(0,i.jsx)(n.h3,{id:"deployments",children:"Deployments"}),"\n",(0,i.jsx)(n.p,{children:"Manage replica sets and rolling updates:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: nginx-deployment\nspec:\n  replicas: 3\n  selector:\n    matchLabels:\n      app: nginx\n  template:\n    metadata:\n      labels:\n        app: nginx\n    spec:\n      containers:\n      - name: nginx\n        image: nginx:1.21\n        ports:\n        - containerPort: 80\n"})}),"\n",(0,i.jsx)(n.h3,{id:"services",children:"Services"}),"\n",(0,i.jsx)(n.p,{children:"Expose your application:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"apiVersion: v1\nkind: Service\nmetadata:\n  name: nginx-service\nspec:\n  selector:\n    app: nginx\n  ports:\n  - protocol: TCP\n    port: 80\n    targetPort: 80\n  type: LoadBalancer\n"})}),"\n",(0,i.jsx)(n.h2,{id:"getting-started",children:"Getting Started"}),"\n",(0,i.jsx)(n.h3,{id:"install-kubectl",children:"Install kubectl"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Linux:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'curl -LO "https://dl.k8s.io/release/$(curl -L -s https://dl.k8s.io/release/stable.txt)/bin/linux/amd64/kubectl"\nsudo install -o root -g root -m 0755 kubectl /usr/local/bin/kubectl\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"macOS:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"brew install kubectl\n"})}),"\n",(0,i.jsx)(n.h3,{id:"create-a-local-cluster",children:"Create a Local Cluster"}),"\n",(0,i.jsx)(n.p,{children:"Using minikube:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"minikube start\n"})}),"\n",(0,i.jsx)(n.p,{children:"Using kind:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kind create cluster --name dev-cluster\n"})}),"\n",(0,i.jsx)(n.h2,{id:"essential-kubectl-commands",children:"Essential kubectl Commands"}),"\n",(0,i.jsx)(n.h3,{id:"cluster-information",children:"Cluster Information"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl cluster-info\nkubectl get nodes\nkubectl get namespaces\n"})}),"\n",(0,i.jsx)(n.h3,{id:"working-with-resources",children:"Working with Resources"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Create resources\nkubectl apply -f deployment.yaml\n\n# Get resources\nkubectl get pods\nkubectl get deployments\nkubectl get services\n\n# Describe resources\nkubectl describe pod <pod-name>\n\n# Delete resources\nkubectl delete pod <pod-name>\nkubectl delete -f deployment.yaml\n"})}),"\n",(0,i.jsx)(n.h3,{id:"debugging",children:"Debugging"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# View logs\nkubectl logs <pod-name>\nkubectl logs -f <pod-name>  # Follow logs\n\n# Execute commands in container\nkubectl exec -it <pod-name> -- bash\n\n# Port forwarding\nkubectl port-forward <pod-name> 8080:80\n"})}),"\n",(0,i.jsx)(n.h2,{id:"configmaps-and-secrets",children:"ConfigMaps and Secrets"}),"\n",(0,i.jsx)(n.h3,{id:"configmap",children:"ConfigMap"}),"\n",(0,i.jsx)(n.p,{children:"Store configuration data:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'apiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: app-config\ndata:\n  database_url: "postgres://db:5432"\n  api_key: "demo-key"\n'})}),"\n",(0,i.jsx)(n.p,{children:"Use in a Pod:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"spec:\n  containers:\n  - name: app\n    image: myapp:latest\n    envFrom:\n    - configMapRef:\n        name: app-config\n"})}),"\n",(0,i.jsx)(n.h3,{id:"secrets",children:"Secrets"}),"\n",(0,i.jsx)(n.p,{children:"Store sensitive data:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl create secret generic db-secret \\\n  --from-literal=password=mysecretpassword\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"spec:\n  containers:\n  - name: app\n    image: myapp:latest\n    env:\n    - name: DB_PASSWORD\n      valueFrom:\n        secretKeyRef:\n          name: db-secret\n          key: password\n"})}),"\n",(0,i.jsx)(n.h2,{id:"persistent-storage",children:"Persistent Storage"}),"\n",(0,i.jsx)(n.h3,{id:"persistentvolumeclaim",children:"PersistentVolumeClaim"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"apiVersion: v1\nkind: PersistentVolumeClaim\nmetadata:\n  name: app-pvc\nspec:\n  accessModes:\n    - ReadWriteOnce\n  resources:\n    requests:\n      storage: 10Gi\n"})}),"\n",(0,i.jsx)(n.p,{children:"Use in a Deployment:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"spec:\n  template:\n    spec:\n      containers:\n      - name: app\n        volumeMounts:\n        - name: data\n          mountPath: /data\n      volumes:\n      - name: data\n        persistentVolumeClaim:\n          claimName: app-pvc\n"})}),"\n",(0,i.jsx)(n.h2,{id:"namespaces",children:"Namespaces"}),"\n",(0,i.jsx)(n.p,{children:"Organize resources with namespaces:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"apiVersion: v1\nkind: Namespace\nmetadata:\n  name: production\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Create namespace\nkubectl create namespace staging\n\n# Use namespace\nkubectl apply -f deployment.yaml -n production\n\n# Set default namespace\nkubectl config set-context --current --namespace=production\n"})}),"\n",(0,i.jsx)(n.h2,{id:"scaling",children:"Scaling"}),"\n",(0,i.jsx)(n.h3,{id:"manual-scaling",children:"Manual Scaling"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl scale deployment nginx-deployment --replicas=5\n"})}),"\n",(0,i.jsx)(n.h3,{id:"horizontal-pod-autoscaler",children:"Horizontal Pod Autoscaler"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"apiVersion: autoscaling/v2\nkind: HorizontalPodAutoscaler\nmetadata:\n  name: nginx-hpa\nspec:\n  scaleTargetRef:\n    apiVersion: apps/v1\n    kind: Deployment\n    name: nginx-deployment\n  minReplicas: 2\n  maxReplicas: 10\n  metrics:\n  - type: Resource\n    resource:\n      name: cpu\n      target:\n        type: Utilization\n        averageUtilization: 80\n"})}),"\n",(0,i.jsx)(n.h2,{id:"production-best-practices",children:"Production Best Practices"}),"\n",(0,i.jsx)(n.h3,{id:"1-resource-limits",children:"1. Resource Limits"}),"\n",(0,i.jsx)(n.p,{children:"Always set resource requests and limits:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'resources:\n  requests:\n    memory: "128Mi"\n    cpu: "250m"\n  limits:\n    memory: "256Mi"\n    cpu: "500m"\n'})}),"\n",(0,i.jsx)(n.h3,{id:"2-liveness-and-readiness-probes",children:"2. Liveness and Readiness Probes"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"livenessProbe:\n  httpGet:\n    path: /healthz\n    port: 8080\n  initialDelaySeconds: 30\n  periodSeconds: 10\n\nreadinessProbe:\n  httpGet:\n    path: /ready\n    port: 8080\n  initialDelaySeconds: 5\n  periodSeconds: 5\n"})}),"\n",(0,i.jsx)(n.h3,{id:"3-pod-disruption-budgets",children:"3. Pod Disruption Budgets"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"apiVersion: policy/v1\nkind: PodDisruptionBudget\nmetadata:\n  name: app-pdb\nspec:\n  minAvailable: 2\n  selector:\n    matchLabels:\n      app: myapp\n"})}),"\n",(0,i.jsx)(n.h3,{id:"4-network-policies",children:"4. Network Policies"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"apiVersion: networking.k8s.io/v1\nkind: NetworkPolicy\nmetadata:\n  name: api-network-policy\nspec:\n  podSelector:\n    matchLabels:\n      app: api\n  policyTypes:\n  - Ingress\n  ingress:\n  - from:\n    - podSelector:\n        matchLabels:\n          app: frontend\n    ports:\n    - protocol: TCP\n      port: 8080\n"})}),"\n",(0,i.jsx)(n.h2,{id:"helm-package-manager",children:"Helm Package Manager"}),"\n",(0,i.jsx)(n.p,{children:"Install applications with Helm:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Add repository\nhelm repo add bitnami https://charts.bitnami.com/bitnami\n\n# Install chart\nhelm install my-release bitnami/nginx\n\n# Upgrade release\nhelm upgrade my-release bitnami/nginx\n\n# List releases\nhelm list\n"})}),"\n",(0,i.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Review ",(0,i.jsx)(n.a,{href:"./monitoring/",children:"Monitoring & Logging"})]}),"\n",(0,i.jsxs)(n.li,{children:["Explore ",(0,i.jsx)(n.a,{href:"/portfolio/docs/devops/cicd",children:"CI/CD Setup"})," for automated deployments"]}),"\n",(0,i.jsxs)(n.li,{children:["Learn ",(0,i.jsx)(n.a,{href:"/portfolio/docs/devops/docker",children:"Docker Guide"})," for containerization"]}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>t});var a=s(6540);const i={},l=a.createContext(i);function r(e){const n=a.useContext(l);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),a.createElement(l.Provider,{value:n},e.children)}}}]);