"use strict";(globalThis.webpackChunkmy_profile_site=globalThis.webpackChunkmy_profile_site||[]).push([[6454],{10585:e=>{e.exports=JSON.parse('{"permalink":"/blog/sql-injection-apostrophe-lesson","source":"@site/blog/2024-11-29-sql-injection-apostrophe-attack.md","title":"Understanding SQL Injection Through a Real-World Example","description":"SQL injection vulnerabilities can occur in unexpected places, including simple text inputs. This post examines how an apostrophe in a name exposed a SQL injection vulnerability and provides practical guidance on preventing these security issues through parameterized queries.","date":"2024-11-29T00:00:00.000Z","tags":[{"inline":false,"label":"Security","permalink":"/blog/tags/security","description":"Software security practices"},{"inline":false,"label":"SQL","permalink":"/blog/tags/sql","description":"SQL databases and queries"},{"inline":false,"label":"Database","permalink":"/blog/tags/database","description":"Database management and design"},{"inline":false,"label":"Web Security","permalink":"/blog/tags/web-security","description":"Web application security"},{"inline":false,"label":"Lessons Learned","permalink":"/blog/tags/lessons-learned","description":"Lessons learned from real experiences"}],"readingTime":7.5,"hasTruncateMarker":true,"authors":[{"name":"Kristina Haynes","title":"DevOps Engineer & Full Stack Developer","url":"https://www.linkedin.com/in/kristina-haynes-94915147","page":{"permalink":"/blog/authors/kristina-haynes"},"socials":{"linkedin":"https://www.linkedin.com/in/kristina-haynes-94915147","github":"https://github.com/ForeverAProgrammer"},"imageURL":"https://avatars.githubusercontent.com/u/21247589?v=4","key":"kristina-haynes"}],"frontMatter":{"slug":"sql-injection-apostrophe-lesson","title":"Understanding SQL Injection Through a Real-World Example","authors":["kristina-haynes"],"tags":["security","sql","database","web-security","lessons-learned"]},"unlisted":false,"prevItem":{"title":"Building CI/CD Pipelines with GitLab","permalink":"/blog/gitlab-cicd-pipelines"},"nextItem":{"title":"How a CMS Enables Self-Service Content Management","permalink":"/blog/cms-empowering-users-freeing-developers"}}')},28453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>l});var r=s(96540);const i={},a=r.createContext(i);function t(e){const n=r.useContext(a);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),r.createElement(a.Provider,{value:n},e.children)}},89757:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>t,metadata:()=>r,toc:()=>c});var r=s(10585),i=s(74848),a=s(28453);const t={slug:"sql-injection-apostrophe-lesson",title:"Understanding SQL Injection Through a Real-World Example",authors:["kristina-haynes"],tags:["security","sql","database","web-security","lessons-learned"]},l="Understanding SQL Injection Through a Real-World Example",o={authorsImageUrls:[void 0]},c=[{value:"The Training Class Disaster",id:"the-training-class-disaster",level:2},{value:"History Repeats Itself",id:"history-repeats-itself",level:2},{value:"Understanding the Vulnerability",id:"understanding-the-vulnerability",level:2},{value:"The Basic SQL Query",id:"the-basic-sql-query",level:3},{value:"When Apostrophes Attack",id:"when-apostrophes-attack",level:3},{value:"The Real Danger: SQL Injection",id:"the-real-danger-sql-injection",level:2},{value:"A Malicious Example",id:"a-malicious-example",level:3},{value:"More Sophisticated Attacks",id:"more-sophisticated-attacks",level:3},{value:"The Fix: Parameterized Queries",id:"the-fix-parameterized-queries",level:2},{value:"C# Example (Unsafe vs Safe)",id:"c-example-unsafe-vs-safe",level:3},{value:"Other Languages",id:"other-languages",level:3},{value:"Why Parameterized Queries Work",id:"why-parameterized-queries-work",level:2},{value:"Defense in Depth: Additional Security Layers",id:"defense-in-depth-additional-security-layers",level:2},{value:"1. Input Validation",id:"1-input-validation",level:3},{value:"2. Principle of Least Privilege",id:"2-principle-of-least-privilege",level:3},{value:"3. Web Application Firewall (WAF)",id:"3-web-application-firewall-waf",level:3},{value:"4. Regular Security Audits",id:"4-regular-security-audits",level:3},{value:"5. Error Handling",id:"5-error-handling",level:3},{value:"Real-World Impact",id:"real-world-impact",level:2},{value:"Testing Your Application",id:"testing-your-application",level:2},{value:"Lessons Learned",id:"lessons-learned",level:2},{value:"Resources for Learning More",id:"resources-for-learning-more",level:2},{value:"Conclusion",id:"conclusion",level:2}];function d(e){const n={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",hr:"hr",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"SQL injection vulnerabilities can occur in unexpected places, including simple text inputs. This post examines how an apostrophe in a name exposed a SQL injection vulnerability and provides practical guidance on preventing these security issues through parameterized queries."}),"\n",(0,i.jsx)(n.h2,{id:"the-training-class-disaster",children:"The Training Class Disaster"}),"\n",(0,i.jsx)(n.p,{children:"Fresh out of college, I landed my first software engineering job. Like many companies hiring junior developers, they started us with a two-week training class designed to teach us basic programming skills and how to interact with a SQL database."}),"\n",(0,i.jsx)(n.p,{children:"Our project seemed straightforward: build a C# application to manage a bookstore's inventory based on a detailed requirements document. The system needed to track books, authors, and most importantly, author royalties (payments) for books that were purchased. We worked hard, implemented all the features, and felt confident heading into our final demo."}),"\n",(0,i.jsx)(n.p,{children:"Then came the moment that would horrify me."}),"\n",(0,i.jsx)(n.p,{children:'During the demo in front of the whole company, someone in the audience asked us to demonstrate adding a new author to the system named "Conan O\'Brien".'}),"\n",(0,i.jsx)(n.p,{children:"I watched in horror as our carefully crafted application crashed instantly in front of everyone."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"The culprit? A single apostrophe."})}),"\n",(0,i.jsx)(n.h2,{id:"history-repeats-itself",children:"History Repeats Itself"}),"\n",(0,i.jsx)(n.p,{children:"That training class taught me a valuable lesson about SQL injection. Years later, I received an urgent support ticket about a user that was logging into our site and reported that they were seeing another user's account information."}),"\n",(0,i.jsx)(n.p,{children:"After investigating, I discovered the root cause: the user's name contained an apostrophe (like O'Brian, O'Connor, or D'Angelo). The same SQL injection problem that I had witnessed during my training class also existed in this website's codebase."}),"\n",(0,i.jsx)(n.h2,{id:"understanding-the-vulnerability",children:"Understanding the Vulnerability"}),"\n",(0,i.jsx)(n.p,{children:"This section explains why apostrophes cause SQL injection vulnerabilities and why they pose a serious security risk."}),"\n",(0,i.jsx)(n.h3,{id:"the-basic-sql-query",children:"The Basic SQL Query"}),"\n",(0,i.jsx)(n.p,{children:"Here's what a typical login query looks like:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"SELECT userID, userName, firstName, lastName\nFROM Users\nWHERE userName = 'inputted username'\n  AND password = 'inputted password'\n"})}),"\n",(0,i.jsx)(n.p,{children:"This seems harmless enough\u2014until you understand how SQL handles apostrophes."}),"\n",(0,i.jsx)(n.h3,{id:"when-apostrophes-attack",children:"When Apostrophes Attack"}),"\n",(0,i.jsxs)(n.p,{children:["In SQL, single quotes (",(0,i.jsx)(n.code,{children:"'"}),") are used to delimit string literals. When you have an apostrophe in user input like ",(0,i.jsx)(n.strong,{children:"O'Brian"}),", here's what actually gets sent to the database:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"SELECT userID, userName, firstName, lastName\nFROM Users\nWHERE userName = 'O'Brian'\n  AND password = 'password123'\n"})}),"\n",(0,i.jsx)(n.p,{children:"From SQL's perspective, this query looks like:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["A string starting with ",(0,i.jsx)(n.code,{children:"'O'"})]}),"\n",(0,i.jsxs)(n.li,{children:["Random text ",(0,i.jsx)(n.code,{children:"Brian"})," (which it doesn't understand)"]}),"\n",(0,i.jsxs)(n.li,{children:["Another string starting with ",(0,i.jsx)(n.code,{children:"'Brian'"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Result: Syntax error. Application crash."})}),"\n",(0,i.jsx)(n.h2,{id:"the-real-danger-sql-injection",children:"The Real Danger: SQL Injection"}),"\n",(0,i.jsxs)(n.p,{children:["While our apostrophe crash was embarrassing, it was relatively harmless. The real threat is ",(0,i.jsx)(n.strong,{children:"SQL injection attacks"}),"\u2014and they can be devastating."]}),"\n",(0,i.jsx)(n.h3,{id:"a-malicious-example",children:"A Malicious Example"}),"\n",(0,i.jsx)(n.p,{children:"Imagine a hacker enters these credentials:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Username"}),": ",(0,i.jsx)(n.code,{children:"kristina"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Password"}),": ",(0,i.jsx)(n.code,{children:"x' DROP TABLE Users; --"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"The resulting SQL query becomes:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"SELECT userID, userName, firstName, lastName\nFROM Users\nWHERE userName = 'kristina'\n  AND password = 'x' DROP TABLE Users; --'\n"})}),"\n",(0,i.jsx)(n.p,{children:"Let's parse what just happened:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"WHERE userName = 'kristina'"})," - Valid condition"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"AND password = 'x'"})," - Valid condition (though it won't match)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"DROP TABLE Users;"})," - ",(0,i.jsx)(n.strong,{children:"Deletes the entire Users table"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"--"})," - SQL comment that ignores everything after"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"In one login attempt, the attacker just deleted your entire user database."})}),"\n",(0,i.jsx)(n.h3,{id:"more-sophisticated-attacks",children:"More Sophisticated Attacks"}),"\n",(0,i.jsx)(n.p,{children:"SQL injection can be used for:"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Data Exfiltration"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"' OR '1'='1' --\n"})}),"\n",(0,i.jsx)(n.p,{children:"This bypasses authentication by making the WHERE clause always true."}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Database Enumeration"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"' UNION SELECT table_name, column_name FROM information_schema.columns --\n"})}),"\n",(0,i.jsx)(n.p,{children:"Reveals your entire database structure."}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Privilege Escalation"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"'; UPDATE Users SET role='admin' WHERE userName='hacker'; --\n"})}),"\n",(0,i.jsx)(n.p,{children:"Grants administrative access to any account."}),"\n",(0,i.jsx)(n.h2,{id:"the-fix-parameterized-queries",children:"The Fix: Parameterized Queries"}),"\n",(0,i.jsxs)(n.p,{children:["The solution is surprisingly simple: ",(0,i.jsx)(n.strong,{children:"never concatenate user input directly into SQL queries"}),". Instead, use ",(0,i.jsx)(n.strong,{children:"parameterized queries"})," (also called prepared statements)."]}),"\n",(0,i.jsx)(n.h3,{id:"c-example-unsafe-vs-safe",children:"C# Example (Unsafe vs Safe)"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\u274c VULNERABLE CODE"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-csharp",children:"// DON'T DO THIS!\nstring query = $\"SELECT * FROM Users WHERE userName = '{username}' AND password = '{password}'\";\nSqlCommand command = new SqlCommand(query, connection);\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\u2705 SECURE CODE"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-csharp",children:'// DO THIS instead\nstring query = "SELECT * FROM Users WHERE userName = @username AND password = @password";\nSqlCommand command = new SqlCommand(query, connection);\ncommand.Parameters.AddWithValue("@username", username);\ncommand.Parameters.AddWithValue("@password", password);\n'})}),"\n",(0,i.jsx)(n.h3,{id:"other-languages",children:"Other Languages"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Java (JDBC)"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'String query = "SELECT * FROM Users WHERE userName = ? AND password = ?";\nPreparedStatement pstmt = connection.prepareStatement(query);\npstmt.setString(1, username);\npstmt.setString(2, password);\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Python (SQLite)"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'cursor.execute(\n    "SELECT * FROM Users WHERE userName = ? AND password = ?",\n    (username, password)\n)\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"JavaScript (Node.js with MySQL)"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"connection.query(\n    'SELECT * FROM Users WHERE userName = ? AND password = ?',\n    [username, password],\n    (error, results) => { /* ... */ }\n);\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"PHP (PDO)"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:"$stmt = $pdo->prepare('SELECT * FROM Users WHERE userName = :username AND password = :password');\n$stmt->execute(['username' => $username, 'password' => $password]);\n"})}),"\n",(0,i.jsx)(n.h2,{id:"why-parameterized-queries-work",children:"Why Parameterized Queries Work"}),"\n",(0,i.jsx)(n.p,{children:"When you use parameterized queries:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Separation of Code and Data"}),": The database knows which parts are commands and which are data"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Automatic Escaping"}),": The database driver properly escapes special characters"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type Safety"}),": Parameters are strongly typed, preventing type confusion attacks"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Performance"}),": Prepared statements can be cached and reused"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"defense-in-depth-additional-security-layers",children:"Defense in Depth: Additional Security Layers"}),"\n",(0,i.jsx)(n.p,{children:"While parameterized queries are essential, follow these additional best practices:"}),"\n",(0,i.jsx)(n.h3,{id:"1-input-validation",children:"1. Input Validation"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-csharp",children:'// Validate username format\nif (!Regex.IsMatch(username, @"^[a-zA-Z0-9_\\-\\.@]{3,50}$"))\n{\n    throw new ArgumentException("Invalid username format");\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"2-principle-of-least-privilege",children:"2. Principle of Least Privilege"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"-- Database user should only have necessary permissions\nGRANT SELECT, INSERT, UPDATE ON Users TO app_user;\n-- Don't grant DROP, DELETE, or ALTER\n"})}),"\n",(0,i.jsx)(n.h3,{id:"3-web-application-firewall-waf",children:"3. Web Application Firewall (WAF)"}),"\n",(0,i.jsx)(n.p,{children:"A Web Application Firewall (WAF) acts as a protective layer between your application and incoming traffic, analyzing HTTP requests to detect and block malicious patterns before they reach your application code."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"What a WAF does:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Monitors and filters HTTP/HTTPS traffic"}),"\n",(0,i.jsx)(n.li,{children:"Detects common attack patterns including SQL injection, XSS, and CSRF"}),"\n",(0,i.jsx)(n.li,{children:"Blocks suspicious requests based on predefined rules and patterns"}),"\n",(0,i.jsx)(n.li,{children:"Provides logging and alerting for security incidents"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Popular WAF solutions:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Cloud-based:"})," ",(0,i.jsx)(n.a,{href:"https://aws.amazon.com/waf/",children:"AWS WAF"}),", ",(0,i.jsx)(n.a,{href:"https://www.cloudflare.com/application-services/products/waf/",children:"Cloudflare WAF"}),", ",(0,i.jsx)(n.a,{href:"https://azure.microsoft.com/en-us/products/web-application-firewall",children:"Azure WAF"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Open-source:"})," ",(0,i.jsx)(n.a,{href:"https://github.com/SpiderLabs/ModSecurity",children:"ModSecurity"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Enterprise:"})," ",(0,i.jsx)(n.a,{href:"https://www.imperva.com/products/web-application-firewall-waf/",children:"Imperva"}),", ",(0,i.jsx)(n.a,{href:"https://www.f5.com/products/security/advanced-waf",children:"F5"}),", ",(0,i.jsx)(n.a,{href:"https://www.akamai.com/products/app-and-api-protector",children:"Akamai"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Example WAF rule to block SQL injection:"}),"\nA WAF can detect patterns like ",(0,i.jsx)(n.code,{children:"' OR '1'='1"}),", ",(0,i.jsx)(n.code,{children:"UNION SELECT"}),", ",(0,i.jsx)(n.code,{children:"DROP TABLE"}),", and other SQL keywords in request parameters, blocking the request before it reaches your database."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Important:"})," While WAFs provide an additional security layer, they should complement\u2014not replace\u2014proper input validation and parameterized queries in your application code."]}),"\n",(0,i.jsx)(n.h3,{id:"4-regular-security-audits",children:"4. Regular Security Audits"}),"\n",(0,i.jsx)(n.p,{children:"Use tools like:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.a,{href:"https://sqlmap.org/",children:"SQLMap"})})," - Automated SQL injection testing"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.a,{href:"https://www.zaproxy.org/",children:"OWASP ZAP"})})," - Web application security scanner"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Static code analysis"})," - Tools like ",(0,i.jsx)(n.a,{href:"https://www.sonarsource.com/products/sonarqube/",children:"SonarQube"}),", ",(0,i.jsx)(n.a,{href:"https://checkmarx.com/",children:"Checkmarx"})]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"5-error-handling",children:"5. Error Handling"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-csharp",children:'// DON\'T expose database errors to users\ntry\n{\n    // Database operation\n}\ncatch (SqlException ex)\n{\n    // Log detailed error internally\n    logger.Error(ex);\n\n    // Return generic error to user\n    return "An error occurred. Please try again later.";\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"real-world-impact",children:"Real-World Impact"}),"\n",(0,i.jsx)(n.p,{children:"SQL injection isn't just a theoretical threat. Major breaches include:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Heartland Payment Systems (2008)"}),": 130 million credit cards stolen"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Sony Pictures (2011)"}),": 1 million accounts compromised"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Yahoo (2012)"}),": 450,000 passwords leaked"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"British Airways (2018)"}),": \xa320 million GDPR fine"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["According to OWASP, injection attacks (including SQL injection) consistently rank in the ",(0,i.jsx)(n.strong,{children:"Top 3 web application security risks"}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"testing-your-application",children:"Testing Your Application"}),"\n",(0,i.jsx)(n.p,{children:"Here are some test inputs to verify your application handles special characters safely:"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Names with Apostrophes"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"O'Brian"}),"\n",(0,i.jsx)(n.li,{children:"D'Angelo"}),"\n",(0,i.jsx)(n.li,{children:"O'Connor"}),"\n",(0,i.jsx)(n.li,{children:"Mary's"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"SQL Injection Attempts"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"' OR '1'='1"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"'; DROP TABLE Users; --"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"admin' --"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"' UNION SELECT NULL, NULL, NULL --"})}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Edge Cases"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Empty strings"}),"\n",(0,i.jsx)(n.li,{children:"Very long inputs (>1000 characters)"}),"\n",(0,i.jsxs)(n.li,{children:["Unicode characters (e.g., ",(0,i.jsx)(n.code,{children:"\u6d4b\u8bd5\u7528\u6237"}),")"]}),"\n",(0,i.jsxs)(n.li,{children:["Special SQL characters: ",(0,i.jsx)(n.code,{children:"%"}),", ",(0,i.jsx)(n.code,{children:"_"}),", ",(0,i.jsx)(n.code,{children:"\\"}),", ",(0,i.jsx)(n.code,{children:'"'}),", ",(0,i.jsx)(n.code,{children:";"})]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"lessons-learned",children:"Lessons Learned"}),"\n",(0,i.jsx)(n.p,{children:"Looking back on that training class disaster and the production incident, here are my key takeaways:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Security isn't optional"}),": It should be built in from day one, not added later"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Assume all input is malicious"}),': Never trust user input, even from "trusted" sources']}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Use ORMs carefully"}),": While frameworks like Entity Framework help, you still need to understand SQL injection"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Test with real-world data"}),": Names like O'Brian, Jos\xe9, or \u5317\u4eac expose hidden bugs"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Security is everyone's responsibility"}),": Not just the security team's job"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"resources-for-learning-more",children:"Resources for Learning More"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.a,{href:"https://owasp.org/www-community/attacks/SQL_Injection",children:"OWASP SQL Injection Guide"})})," - Comprehensive resource"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.a,{href:"http://www.unixwiz.net/techtips/sql-injection.html",children:"SQL Injection Explained"})})," - Detailed technical breakdown"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.a,{href:"https://portswigger.net/web-security/sql-injection",children:"PortSwigger SQL Injection Labs"})})," - Hands-on practice"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.a,{href:"https://bobby-tables.com/",children:"Bobby Tables"})})," - Language-specific parameterized query examples"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"conclusion",children:"Conclusion"}),"\n",(0,i.jsxs)(n.p,{children:["A simple apostrophe taught me one of the most valuable lessons in my career: ",(0,i.jsx)(n.strong,{children:"never underestimate the importance of input validation and parameterized queries"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"Whether you're building a simple bookstore application or a complex enterprise system, SQL injection vulnerabilities can have catastrophic consequences. The good news? The fix is straightforward: use parameterized queries, validate input, and follow security best practices."}),"\n",(0,i.jsx)(n.p,{children:"Don't let an apostrophe bring down your production system. Learn from my mistakes, secure your code, and remember: if it can accept user input, it can be exploited."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Have you encountered SQL injection in the wild? Share your stories in the comments below!"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.em,{children:"Thanks to Little Bobby Tables for inspiring generations of developers to take SQL injection seriously."})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.img,{src:"https://imgs.xkcd.com/comics/exploits_of_a_mom.png",alt:"Little Bobby Tables XKCD"}),"\n",(0,i.jsxs)(n.em,{children:["Source: ",(0,i.jsx)(n.a,{href:"https://xkcd.com/327/",children:"XKCD #327"})]})]})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}}}]);