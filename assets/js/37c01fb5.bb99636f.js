"use strict";(globalThis.webpackChunkmy_profile_site=globalThis.webpackChunkmy_profile_site||[]).push([[9926],{28453:(e,n,r)=>{r.d(n,{R:()=>o,x:()=>a});var t=r(96540);const i={},s=t.createContext(i);function o(e){const n=t.useContext(s);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),t.createElement(s.Provider,{value:n},e.children)}},49015:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>p,frontMatter:()=>o,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"design-patterns/structural/decorator","title":"Decorator Pattern","description":"Attach additional responsibilities to an object dynamically. Decorators provide a flexible alternative to subclassing for extending functionality.","source":"@site/docs/design-patterns/structural/decorator.md","sourceDirName":"design-patterns/structural","slug":"/design-patterns/structural/decorator","permalink":"/docs/design-patterns/structural/decorator","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Structural Patterns","permalink":"/docs/design-patterns/structural/"},"next":{"title":"Adapter Pattern","permalink":"/docs/design-patterns/structural/adapter"}}');var i=r(74848),s=r(28453);const o={sidebar_position:1},a="Decorator Pattern",l={},c=[{value:"Problem",id:"problem",level:2},{value:"Design Principles Applied",id:"design-principles-applied",level:2},{value:"UML Diagram",id:"uml-diagram",level:2},{value:"Implementation",id:"implementation",level:2},{value:"Example 1: Coffee Shop (Classic Head First Example)",id:"example-1-coffee-shop-classic-head-first-example",level:3},{value:"Decorator Classes",id:"decorator-classes",level:3},{value:"Beverage Size Support",id:"beverage-size-support",level:3},{value:"Test Code",id:"test-code",level:3},{value:"Output",id:"output",level:3},{value:"Example 2: Text Formatting",id:"example-2-text-formatting",level:2},{value:"Output",id:"output-1",level:3},{value:"Real-World Examples",id:"real-world-examples",level:2},{value:"Java I/O Streams (Classic Decorator Example)",id:"java-io-streams-classic-decorator-example",level:3},{value:"Custom I/O Decorator",id:"custom-io-decorator",level:3},{value:"Collections",id:"collections",level:3},{value:"Benefits",id:"benefits",level:2},{value:"Drawbacks",id:"drawbacks",level:2},{value:"When to Use",id:"when-to-use",level:2},{value:"Decorator vs. Inheritance",id:"decorator-vs-inheritance",level:2},{value:"Inheritance Approach (Inflexible)",id:"inheritance-approach-inflexible",level:3},{value:"Decorator Approach (Flexible)",id:"decorator-approach-flexible",level:3},{value:"Common Pitfalls",id:"common-pitfalls",level:2},{value:"1. Breaking Type Code",id:"1-breaking-type-code",level:3},{value:"2. Over-decoration",id:"2-over-decoration",level:3},{value:"3. Incorrect Order",id:"3-incorrect-order",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"Related Patterns",id:"related-patterns",level:2},{value:"Summary",id:"summary",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",mermaid:"mermaid",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"decorator-pattern",children:"Decorator Pattern"})}),"\n",(0,i.jsx)(n.p,{children:"Attach additional responsibilities to an object dynamically. Decorators provide a flexible alternative to subclassing for extending functionality."}),"\n",(0,i.jsx)(n.h2,{id:"problem",children:"Problem"}),"\n",(0,i.jsx)(n.p,{children:"You need to add responsibilities to objects without modifying their code, and you want to add/remove these responsibilities at runtime."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Common Scenarios:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Adding features to UI components (borders, scrollbars)"}),"\n",(0,i.jsx)(n.li,{children:"Adding behaviors to I/O streams (buffering, compression, encryption)"}),"\n",(0,i.jsx)(n.li,{children:"Adding toppings to food items (coffee condiments, pizza toppings)"}),"\n",(0,i.jsx)(n.li,{children:"Adding middleware to web requests/responses"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"design-principles-applied",children:"Design Principles Applied"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Open/Closed Principle"})," - Open for extension, closed for modification"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Favor composition over inheritance"})," - Wrap objects instead of extending classes"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Single Responsibility"})," - Each decorator adds one responsibility"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"uml-diagram",children:"UML Diagram"}),"\n",(0,i.jsx)(n.mermaid,{value:"classDiagram\n    class Component {\n        <<interface>>\n        +operation()\n    }\n    class ConcreteComponent {\n        +operation()\n    }\n    class Decorator {\n        -Component component\n        +operation()\n    }\n    class ConcreteDecoratorA {\n        +operation()\n        +addedBehavior()\n    }\n    class ConcreteDecoratorB {\n        -addedState\n        +operation()\n    }\n\n    Component <|.. ConcreteComponent : implements\n    Component <|.. Decorator : implements\n    Decorator o-- Component : component\n    Decorator <|-- ConcreteDecoratorA : extends\n    Decorator <|-- ConcreteDecoratorB : extends"}),"\n",(0,i.jsx)(n.h2,{id:"implementation",children:"Implementation"}),"\n",(0,i.jsx)(n.h3,{id:"example-1-coffee-shop-classic-head-first-example",children:"Example 1: Coffee Shop (Classic Head First Example)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'// Component interface\npublic abstract class Beverage {\n    protected String description = "Unknown Beverage";\n\n    public String getDescription() {\n        return description;\n    }\n\n    public abstract double cost();\n}\n\n// Concrete Component - Base beverages\npublic class Espresso extends Beverage {\n    public Espresso() {\n        description = "Espresso";\n    }\n\n    @Override\n    public double cost() {\n        return 1.99;\n    }\n}\n\npublic class HouseBlend extends Beverage {\n    public HouseBlend() {\n        description = "House Blend Coffee";\n    }\n\n    @Override\n    public double cost() {\n        return 0.89;\n    }\n}\n\npublic class DarkRoast extends Beverage {\n    public DarkRoast() {\n        description = "Dark Roast Coffee";\n    }\n\n    @Override\n    public double cost() {\n        return 0.99;\n    }\n}\n\npublic class Decaf extends Beverage {\n    public Decaf() {\n        description = "Decaf Coffee";\n    }\n\n    @Override\n    public double cost() {\n        return 1.05;\n    }\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"decorator-classes",children:"Decorator Classes"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'// Abstract Decorator\npublic abstract class CondimentDecorator extends Beverage {\n    protected Beverage beverage;\n\n    public abstract String getDescription();\n}\n\n// Concrete Decorators\npublic class Mocha extends CondimentDecorator {\n    public Mocha(Beverage beverage) {\n        this.beverage = beverage;\n    }\n\n    @Override\n    public String getDescription() {\n        return beverage.getDescription() + ", Mocha";\n    }\n\n    @Override\n    public double cost() {\n        return beverage.cost() + 0.20;\n    }\n}\n\npublic class Whip extends CondimentDecorator {\n    public Whip(Beverage beverage) {\n        this.beverage = beverage;\n    }\n\n    @Override\n    public String getDescription() {\n        return beverage.getDescription() + ", Whip";\n    }\n\n    @Override\n    public double cost() {\n        return beverage.cost() + 0.10;\n    }\n}\n\npublic class Soy extends CondimentDecorator {\n    public Soy(Beverage beverage) {\n        this.beverage = beverage;\n    }\n\n    @Override\n    public String getDescription() {\n        return beverage.getDescription() + ", Soy";\n    }\n\n    @Override\n    public double cost() {\n        return beverage.cost() + 0.15;\n    }\n}\n\npublic class SteamedMilk extends CondimentDecorator {\n    public SteamedMilk(Beverage beverage) {\n        this.beverage = beverage;\n    }\n\n    @Override\n    public String getDescription() {\n        return beverage.getDescription() + ", Steamed Milk";\n    }\n\n    @Override\n    public double cost() {\n        return beverage.cost() + 0.10;\n    }\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"beverage-size-support",children:"Beverage Size Support"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'// Enhanced version with sizes\npublic abstract class Beverage {\n    public enum Size { TALL, GRANDE, VENTI }\n\n    protected String description = "Unknown Beverage";\n    protected Size size = Size.TALL;\n\n    public String getDescription() {\n        return description;\n    }\n\n    public void setSize(Size size) {\n        this.size = size;\n    }\n\n    public Size getSize() {\n        return size;\n    }\n\n    public abstract double cost();\n}\n\n// Enhanced decorator that considers size\npublic class Soy extends CondimentDecorator {\n    public Soy(Beverage beverage) {\n        this.beverage = beverage;\n    }\n\n    @Override\n    public String getDescription() {\n        return beverage.getDescription() + ", Soy";\n    }\n\n    @Override\n    public double cost() {\n        double cost = beverage.cost();\n        switch (beverage.getSize()) {\n            case TALL:\n                cost += 0.10;\n                break;\n            case GRANDE:\n                cost += 0.15;\n                break;\n            case VENTI:\n                cost += 0.20;\n                break;\n        }\n        return cost;\n    }\n\n    @Override\n    public Size getSize() {\n        return beverage.getSize();\n    }\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"test-code",children:"Test Code"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'public class StarbuzzCoffee {\n    public static void main(String[] args) {\n        // Simple espresso\n        Beverage beverage = new Espresso();\n        System.out.println(beverage.getDescription() +\n            " $" + beverage.cost());\n\n        // DarkRoast with double mocha and whip\n        Beverage beverage2 = new DarkRoast();\n        beverage2 = new Mocha(beverage2);\n        beverage2 = new Mocha(beverage2);\n        beverage2 = new Whip(beverage2);\n        System.out.println(beverage2.getDescription() +\n            " $" + beverage2.cost());\n\n        // HouseBlend with soy, mocha, and whip\n        Beverage beverage3 = new HouseBlend();\n        beverage3 = new Soy(beverage3);\n        beverage3 = new Mocha(beverage3);\n        beverage3 = new Whip(beverage3);\n        System.out.println(beverage3.getDescription() +\n            " $" + beverage3.cost());\n\n        // Venti-sized beverage with soy\n        Beverage beverage4 = new Espresso();\n        beverage4.setSize(Beverage.Size.VENTI);\n        beverage4 = new Soy(beverage4);\n        System.out.println(beverage4.getDescription() +\n            " (" + beverage4.getSize() + ") $" + beverage4.cost());\n    }\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"output",children:"Output"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Espresso $1.99\nDark Roast Coffee, Mocha, Mocha, Whip $1.49\nHouse Blend Coffee, Soy, Mocha, Whip $1.34\nEspresso, Soy (VENTI) $2.19\n"})}),"\n",(0,i.jsx)(n.h2,{id:"example-2-text-formatting",children:"Example 2: Text Formatting"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'// Component\npublic interface Text {\n    String getContent();\n}\n\n// Concrete Component\npublic class PlainText implements Text {\n    private String content;\n\n    public PlainText(String content) {\n        this.content = content;\n    }\n\n    @Override\n    public String getContent() {\n        return content;\n    }\n}\n\n// Abstract Decorator\npublic abstract class TextDecorator implements Text {\n    protected Text text;\n\n    public TextDecorator(Text text) {\n        this.text = text;\n    }\n\n    @Override\n    public String getContent() {\n        return text.getContent();\n    }\n}\n\n// Concrete Decorators\npublic class BoldDecorator extends TextDecorator {\n    public BoldDecorator(Text text) {\n        super(text);\n    }\n\n    @Override\n    public String getContent() {\n        return "<b>" + super.getContent() + "</b>";\n    }\n}\n\npublic class ItalicDecorator extends TextDecorator {\n    public ItalicDecorator(Text text) {\n        super(text);\n    }\n\n    @Override\n    public String getContent() {\n        return "<i>" + super.getContent() + "</i>";\n    }\n}\n\npublic class UnderlineDecorator extends TextDecorator {\n    public UnderlineDecorator(Text text) {\n        super(text);\n    }\n\n    @Override\n    public String getContent() {\n        return "<u>" + super.getContent() + "</u>";\n    }\n}\n\npublic class UpperCaseDecorator extends TextDecorator {\n    public UpperCaseDecorator(Text text) {\n        super(text);\n    }\n\n    @Override\n    public String getContent() {\n        return super.getContent().toUpperCase();\n    }\n}\n\n// Usage\npublic class TextFormattingDemo {\n    public static void main(String[] args) {\n        // Plain text\n        Text text = new PlainText("Hello World");\n        System.out.println(text.getContent());\n\n        // Bold\n        text = new BoldDecorator(text);\n        System.out.println(text.getContent());\n\n        // Bold and Italic\n        text = new ItalicDecorator(text);\n        System.out.println(text.getContent());\n\n        // Bold, Italic, and Underlined\n        text = new UnderlineDecorator(text);\n        System.out.println(text.getContent());\n\n        // Bold, Italic, Underlined, and Uppercase\n        text = new UpperCaseDecorator(text);\n        System.out.println(text.getContent());\n    }\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"output-1",children:"Output"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Hello World\n<b>Hello World</b>\n<i><b>Hello World</b></i>\n<u><i><b>Hello World</b></i></u>\n<U><I><B>HELLO WORLD</B></I></U>\n"})}),"\n",(0,i.jsx)(n.h2,{id:"real-world-examples",children:"Real-World Examples"}),"\n",(0,i.jsx)(n.h3,{id:"java-io-streams-classic-decorator-example",children:"Java I/O Streams (Classic Decorator Example)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'import java.io.*;\n\n// The Java I/O classes use the Decorator pattern extensively\npublic class IODecoratorExample {\n    public static void main(String[] args) throws IOException {\n        // Create a stack of decorators\n        FileInputStream fis = new FileInputStream("test.txt");     // Component\n        BufferedInputStream bis = new BufferedInputStream(fis);     // Decorator 1\n        DataInputStream dis = new DataInputStream(bis);             // Decorator 2\n\n        // Each decorator adds functionality\n        int data = dis.readInt();  // DataInputStream adds ability to read primitives\n\n        dis.close();\n    }\n}\n\n// Writing with decorators\npublic class OutputStreamExample {\n    public static void main(String[] args) throws IOException {\n        FileOutputStream fos = new FileOutputStream("output.txt");\n        BufferedOutputStream bos = new BufferedOutputStream(fos);\n        DataOutputStream dos = new DataOutputStream(bos);\n\n        dos.writeInt(42);\n        dos.writeUTF("Hello");\n\n        dos.close();\n    }\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"custom-io-decorator",children:"Custom I/O Decorator"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'// Custom decorator to convert text to lowercase\npublic class LowerCaseInputStream extends FilterInputStream {\n    public LowerCaseInputStream(InputStream in) {\n        super(in);\n    }\n\n    @Override\n    public int read() throws IOException {\n        int c = super.read();\n        return (c == -1 ? c : Character.toLowerCase((char) c));\n    }\n\n    @Override\n    public int read(byte[] b, int offset, int len) throws IOException {\n        int result = super.read(b, offset, len);\n        for (int i = offset; i < offset + result; i++) {\n            b[i] = (byte) Character.toLowerCase((char) b[i]);\n        }\n        return result;\n    }\n}\n\n// Usage\npublic class LowerCaseInputStreamTest {\n    public static void main(String[] args) throws IOException {\n        InputStream in = new LowerCaseInputStream(\n            new BufferedInputStream(\n                new FileInputStream("test.txt")\n            )\n        );\n\n        int c;\n        while ((c = in.read()) >= 0) {\n            System.out.print((char) c);\n        }\n\n        in.close();\n    }\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"collections",children:"Collections"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'import java.util.*;\n\n// Unmodifiable and Synchronized decorators\npublic class CollectionDecorators {\n    public static void main(String[] args) {\n        List<String> list = new ArrayList<>();\n        list.add("one");\n        list.add("two");\n\n        // Decorate with unmodifiable wrapper\n        List<String> unmodifiableList =\n            Collections.unmodifiableList(list);\n\n        // Decorate with synchronized wrapper\n        List<String> synchronizedList =\n            Collections.synchronizedList(list);\n    }\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"benefits",children:"Benefits"}),"\n",(0,i.jsxs)(n.p,{children:["\u2705 ",(0,i.jsx)(n.strong,{children:"More flexible than inheritance"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Add/remove responsibilities dynamically"}),"\n",(0,i.jsx)(n.li,{children:"Mix and match decorators"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["\u2705 ",(0,i.jsx)(n.strong,{children:"Follows Open/Closed Principle"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Add new decorators without modifying existing code"}),"\n",(0,i.jsx)(n.li,{children:"Extend functionality without changing classes"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["\u2705 ",(0,i.jsx)(n.strong,{children:"Avoids feature-laden classes"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Simple classes with single responsibilities"}),"\n",(0,i.jsx)(n.li,{children:"Complex behavior through composition"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["\u2705 ",(0,i.jsx)(n.strong,{children:"Runtime configuration"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Wrap objects at runtime"}),"\n",(0,i.jsx)(n.li,{children:"Change behavior on the fly"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"drawbacks",children:"Drawbacks"}),"\n",(0,i.jsxs)(n.p,{children:["\u274c ",(0,i.jsx)(n.strong,{children:"Many small objects"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Can result in many small classes"}),"\n",(0,i.jsx)(n.li,{children:"Harder to understand system"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["\u274c ",(0,i.jsx)(n.strong,{children:"Complexity"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Decorators can be complex to instantiate"}),"\n",(0,i.jsx)(n.li,{children:"Long chains of decorators"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["\u274c ",(0,i.jsx)(n.strong,{children:"Identity problems"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Decorated object \u2260 original object"}),"\n",(0,i.jsx)(n.li,{children:"Type checking becomes difficult"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["\u274c ",(0,i.jsx)(n.strong,{children:"Order matters"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Order of decorators can affect behavior"}),"\n",(0,i.jsx)(n.li,{children:"Must document proper ordering"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"when-to-use",children:"When to Use"}),"\n",(0,i.jsxs)(n.p,{children:["\u2705 ",(0,i.jsx)(n.strong,{children:"Use Decorator When:"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Need to add responsibilities to objects dynamically"}),"\n",(0,i.jsx)(n.li,{children:"Responsibilities should be removable"}),"\n",(0,i.jsx)(n.li,{children:"Extension by subclassing is impractical"}),"\n",(0,i.jsx)(n.li,{children:"Want to combine multiple behaviors"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["\u274c ",(0,i.jsx)(n.strong,{children:"Don't Use When:"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Simple inheritance suffices"}),"\n",(0,i.jsx)(n.li,{children:"Only one combination of features needed"}),"\n",(0,i.jsx)(n.li,{children:"Order of decoration causes confusion"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"decorator-vs-inheritance",children:"Decorator vs. Inheritance"}),"\n",(0,i.jsx)(n.h3,{id:"inheritance-approach-inflexible",children:"Inheritance Approach (Inflexible)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"// Explosion of classes!\nclass HouseBlend extends Beverage { }\nclass HouseBlendWithMocha extends HouseBlend { }\nclass HouseBlendWithMochaAndWhip extends HouseBlendWithMocha { }\nclass HouseBlendWithSoy extends HouseBlend { }\nclass HouseBlendWithSoyAndMocha extends HouseBlendWithSoy { }\n// ... hundreds of combinations!\n"})}),"\n",(0,i.jsx)(n.h3,{id:"decorator-approach-flexible",children:"Decorator Approach (Flexible)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"// Compose at runtime\nBeverage beverage = new HouseBlend();\nbeverage = new Mocha(beverage);\nbeverage = new Whip(beverage);\nbeverage = new Soy(beverage);\n"})}),"\n",(0,i.jsx)(n.h2,{id:"common-pitfalls",children:"Common Pitfalls"}),"\n",(0,i.jsx)(n.h3,{id:"1-breaking-type-code",children:"1. Breaking Type Code"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"// Problem: Decorator changes type\nBeverage espresso = new Espresso();\nBeverage decorated = new Mocha(espresso);\n\nif (decorated instanceof Espresso) {  // FALSE!\n    // This won't work\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"2-over-decoration",children:"2. Over-decoration"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"// Too many layers makes debugging hard\nBeverage beverage = new Espresso();\nbeverage = new Mocha(beverage);\nbeverage = new Whip(beverage);\nbeverage = new Soy(beverage);\nbeverage = new Mocha(beverage);\nbeverage = new Whip(beverage);\n// Lost track of what we're wrapping!\n"})}),"\n",(0,i.jsx)(n.h3,{id:"3-incorrect-order",children:"3. Incorrect Order"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'// Order matters for some decorators\nText text = new PlainText("hello");\ntext = new UpperCaseDecorator(text);\ntext = new BoldDecorator(text);\n// Result: <b>HELLO</b>\n\nText text2 = new PlainText("hello");\ntext2 = new BoldDecorator(text2);\ntext2 = new UpperCaseDecorator(text2);\n// Result: <B>HELLO</B> (different!)\n'})}),"\n",(0,i.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Use builder pattern"})," for complex decoration"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"public class BeverageBuilder {\n    private Beverage beverage;\n\n    public BeverageBuilder(Beverage base) {\n        this.beverage = base;\n    }\n\n    public BeverageBuilder withMocha() {\n        beverage = new Mocha(beverage);\n        return this;\n    }\n\n    public BeverageBuilder withWhip() {\n        beverage = new Whip(beverage);\n        return this;\n    }\n\n    public Beverage build() {\n        return beverage;\n    }\n}\n\n// Usage\nBeverage beverage = new BeverageBuilder(new Espresso())\n    .withMocha()\n    .withWhip()\n    .build();\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"2",children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Document decorator order"})," when it matters"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Keep decorators simple"})," - one responsibility per decorator"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Consider Factory"})," for creating decorated objects"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"related-patterns",children:"Related Patterns"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Adapter"}),": Changes interface, Decorator adds responsibility"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Composite"}),": Decorator adds responsibilities to single object, Composite composes tree structures"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Strategy"}),": Changes algorithm, Decorator adds behavior"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Proxy"}),": Controls access, Decorator adds responsibilities"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,i.jsx)(n.p,{children:"The Decorator Pattern is essential for:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Adding responsibilities without subclassing"}),"\n",(0,i.jsx)(n.li,{children:"Runtime behavior modification"}),"\n",(0,i.jsx)(n.li,{children:"Following Open/Closed Principle"}),"\n",(0,i.jsx)(n.li,{children:"Composing flexible combinations of features"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Key Takeaway:"})," Decorators wrap objects to add new responsibilities dynamically, using composition instead of inheritance."]})]})}function p(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}}}]);