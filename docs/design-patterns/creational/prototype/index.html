<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-design-patterns/creational/prototype" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Prototype Pattern | Kristina Haynes</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://kristina.codes/img/social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://kristina.codes/img/social-card.jpg"><meta data-rh="true" property="og:url" content="https://kristina.codes/docs/design-patterns/creational/prototype/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Prototype Pattern | Kristina Haynes"><meta data-rh="true" name="description" content="Specify the kinds of objects to create using a prototypical instance, and create new objects by copying this prototype."><meta data-rh="true" property="og:description" content="Specify the kinds of objects to create using a prototypical instance, and create new objects by copying this prototype."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://kristina.codes/docs/design-patterns/creational/prototype/"><link data-rh="true" rel="alternate" href="https://kristina.codes/docs/design-patterns/creational/prototype/" hreflang="en"><link data-rh="true" rel="alternate" href="https://kristina.codes/docs/design-patterns/creational/prototype/" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Design Patterns","item":"https://kristina.codes/docs/design-patterns/"},{"@type":"ListItem","position":2,"name":"Creational Patterns","item":"https://kristina.codes/docs/design-patterns/creational/"},{"@type":"ListItem","position":3,"name":"Prototype Pattern","item":"https://kristina.codes/docs/design-patterns/creational/prototype"}]}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Kristina Haynes RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Kristina Haynes Atom Feed"><link rel="stylesheet" href="/assets/css/styles.2ec9d87a.css">
<script src="/assets/js/runtime~main.61e6cbc7.js" defer="defer"></script>
<script src="/assets/js/main.952bf87d.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="kristina.codes Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="kristina.codes Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">kristina.codes</b></a><a class="navbar__item navbar__link" href="/">Home</a><a class="navbar__item navbar__link" href="/projects/">Projects</a><a class="navbar__item navbar__link" href="/docs/intro/">Documentation</a><a class="navbar__item navbar__link" href="/blog/">Blog</a><a href="/files/resume.pdf/" class="navbar__item navbar__link" target="_blank">Resume</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/ForeverAProgrammer" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro/"><span title="Welcome to the Documentation" class="linkLabel_WmDU">Welcome to the Documentation</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/cloud/"><span title="Cloud Platforms" class="categoryLinkLabel_W154">Cloud Platforms</span></a><button aria-label="Expand sidebar category &#x27;Cloud Platforms&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/database/"><span title="Database" class="categoryLinkLabel_W154">Database</span></a><button aria-label="Expand sidebar category &#x27;Database&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href="/docs/design-patterns/"><span title="Design Patterns" class="categoryLinkLabel_W154">Design Patterns</span></a><button aria-label="Collapse sidebar category &#x27;Design Patterns&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" tabindex="0" href="/docs/design-patterns/creational/"><span title="Creational Patterns" class="categoryLinkLabel_W154">Creational Patterns</span></a><button aria-label="Collapse sidebar category &#x27;Creational Patterns&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/design-patterns/creational/singleton/"><span title="Singleton Pattern" class="linkLabel_WmDU">Singleton Pattern</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/design-patterns/creational/factory-method/"><span title="Factory Method Pattern" class="linkLabel_WmDU">Factory Method Pattern</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/design-patterns/creational/abstract-factory/"><span title="Abstract Factory Pattern" class="linkLabel_WmDU">Abstract Factory Pattern</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/design-patterns/creational/builder/"><span title="Builder Pattern" class="linkLabel_WmDU">Builder Pattern</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/design-patterns/creational/prototype/"><span title="Prototype Pattern" class="linkLabel_WmDU">Prototype Pattern</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/design-patterns/behavioral/"><span title="Behavioral Patterns" class="categoryLinkLabel_W154">Behavioral Patterns</span></a><button aria-label="Expand sidebar category &#x27;Behavioral Patterns&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/design-patterns/class-and-object-patterns/"><span title="Class and Object Patterns" class="linkLabel_WmDU">Class and Object Patterns</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/design-patterns/structural/"><span title="Structural Patterns" class="categoryLinkLabel_W154">Structural Patterns</span></a><button aria-label="Expand sidebar category &#x27;Structural Patterns&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/devops/"><span title="DevOps" class="categoryLinkLabel_W154">DevOps</span></a><button aria-label="Expand sidebar category &#x27;DevOps&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/frameworks/"><span title="Frontend Frameworks" class="categoryLinkLabel_W154">Frontend Frameworks</span></a><button aria-label="Expand sidebar category &#x27;Frontend Frameworks&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/languages/"><span title="Programming Languages" class="categoryLinkLabel_W154">Programming Languages</span></a><button aria-label="Expand sidebar category &#x27;Programming Languages&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/linux/"><span title="Linux" class="categoryLinkLabel_W154">Linux</span></a><button aria-label="Expand sidebar category &#x27;Linux&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/testing/"><span title="Testing" class="categoryLinkLabel_W154">Testing</span></a><button aria-label="Expand sidebar category &#x27;Testing&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/web-development/"><span title="Web Development" class="categoryLinkLabel_W154">Web Development</span></a><button aria-label="Expand sidebar category &#x27;Web Development&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/design-patterns/"><span>Design Patterns</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/design-patterns/creational/"><span>Creational Patterns</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Prototype Pattern</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Prototype Pattern</h1></header>
<p>Specify the kinds of objects to create using a prototypical instance, and create new objects by copying this prototype.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="problem">Problem<a href="#problem" class="hash-link" aria-label="Direct link to Problem" title="Direct link to Problem" translate="no">​</a></h2>
<p>You need to create new objects that are copies of existing ones, but the class to instantiate is unknown at compile time, or creating an object from scratch is expensive compared to copying an existing one.</p>
<p><strong>Common Scenarios:</strong></p>
<ul>
<li class="">Copying complex objects that are expensive to initialise (e.g. objects loaded from a database)</li>
<li class="">Creating objects whose type is determined at runtime</li>
<li class="">Reducing subclass explosion when only state differs between instances</li>
<li class="">Implementing undo by cloning object state before changes</li>
<li class="">Game object spawning (clone a template enemy or projectile)</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="design-principles-applied">Design Principles Applied<a href="#design-principles-applied" class="hash-link" aria-label="Direct link to Design Principles Applied" title="Direct link to Design Principles Applied" translate="no">​</a></h2>
<ol>
<li class=""><strong>Encapsulation</strong> - The object knows how to clone itself; callers don&#x27;t need to know its internals</li>
<li class=""><strong>Open/Closed Principle</strong> - Add new types by registering new prototypes, not modifying existing code</li>
<li class=""><strong>Favour composition</strong> - Cloning avoids hard-coding the concrete class being created</li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="shallow-vs-deep-copy">Shallow vs Deep Copy<a href="#shallow-vs-deep-copy" class="hash-link" aria-label="Direct link to Shallow vs Deep Copy" title="Direct link to Shallow vs Deep Copy" translate="no">​</a></h2>
<p>The most important implementation decision when using Prototype:</p>
<table><thead><tr><th>Copy type</th><th>What it copies</th><th>Risk</th></tr></thead><tbody><tr><td><strong>Shallow</strong></td><td>Copies field values; object references are shared</td><td>Clones share mutable referenced objects</td></tr><tr><td><strong>Deep</strong></td><td>Recursively copies all referenced objects</td><td>Safe, but more complex to implement</td></tr></tbody></table>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="uml-diagram">UML Diagram<a href="#uml-diagram" class="hash-link" aria-label="Direct link to UML Diagram" title="Direct link to UML Diagram" translate="no">​</a></h2>
<!-- -->
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="implementation">Implementation<a href="#implementation" class="hash-link" aria-label="Direct link to Implementation" title="Direct link to Implementation" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="example-1-shape-registry">Example 1: Shape Registry<a href="#example-1-shape-registry" class="hash-link" aria-label="Direct link to Example 1: Shape Registry" title="Direct link to Example 1: Shape Registry" translate="no">​</a></h3>
<p>A registry of pre-configured shape prototypes that can be cloned on demand.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="step-1-define-the-prototype-interface">Step 1: Define the Prototype Interface<a href="#step-1-define-the-prototype-interface" class="hash-link" aria-label="Direct link to Step 1: Define the Prototype Interface" title="Direct link to Step 1: Define the Prototype Interface" translate="no">​</a></h3>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public interface Shape {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Shape clone();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void draw();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="step-2-create-concrete-prototypes">Step 2: Create Concrete Prototypes<a href="#step-2-create-concrete-prototypes" class="hash-link" aria-label="Direct link to Step 2: Create Concrete Prototypes" title="Direct link to Step 2: Create Concrete Prototypes" translate="no">​</a></h3>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public class Circle implements Shape {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private int radius;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private String color;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public Circle(int radius, String color) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        this.radius = radius;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        this.color = color;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Copy constructor used by clone()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private Circle(Circle source) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        this.radius = source.radius;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        this.color = source.color;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public Shape clone() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return new Circle(this);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void setRadius(int radius) { this.radius = radius; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void draw() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;Drawing Circle [radius=&quot; + radius + &quot;, color=&quot; + color + &quot;]&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class Rectangle implements Shape {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private int width;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private int height;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private String color;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public Rectangle(int width, int height, String color) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        this.width = width;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        this.height = height;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        this.color = color;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private Rectangle(Rectangle source) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        this.width = source.width;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        this.height = source.height;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        this.color = source.color;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public Shape clone() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return new Rectangle(this);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void draw() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;Drawing Rectangle [&quot; + width + &quot;x&quot; + height</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            + &quot;, color=&quot; + color + &quot;]&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="step-3-create-a-prototype-registry">Step 3: Create a Prototype Registry<a href="#step-3-create-a-prototype-registry" class="hash-link" aria-label="Direct link to Step 3: Create a Prototype Registry" title="Direct link to Step 3: Create a Prototype Registry" translate="no">​</a></h3>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Registry stores named prototypes and clones them on request</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class ShapeRegistry {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private final Map&lt;String, Shape&gt; prototypes = new HashMap&lt;&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void register(String key, Shape prototype) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        prototypes.put(key, prototype);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public Shape get(String key) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Shape prototype = prototypes.get(key);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (prototype == null) throw new IllegalArgumentException(&quot;Unknown prototype: &quot; + key);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return prototype.clone();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="step-4-client-usage">Step 4: Client Usage<a href="#step-4-client-usage" class="hash-link" aria-label="Direct link to Step 4: Client Usage" title="Direct link to Step 4: Client Usage" translate="no">​</a></h3>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ShapeRegistry registry = new ShapeRegistry();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">registry.register(&quot;small-red-circle&quot;,   new Circle(5, &quot;red&quot;));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">registry.register(&quot;large-blue-rect&quot;,    new Rectangle(100, 50, &quot;blue&quot;));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Clone without knowing the concrete class</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Shape c1 = registry.get(&quot;small-red-circle&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Shape c2 = registry.get(&quot;small-red-circle&quot;); // independent copy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">c1.draw(); // Drawing Circle [radius=5, color=red]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">c2.draw(); // Drawing Circle [radius=5, color=red]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">System.out.println(c1 == c2); // false — they are separate objects</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="example-2-deep-copy-with-nested-objects">Example 2: Deep Copy with Nested Objects<a href="#example-2-deep-copy-with-nested-objects" class="hash-link" aria-label="Direct link to Example 2: Deep Copy with Nested Objects" title="Direct link to Example 2: Deep Copy with Nested Objects" translate="no">​</a></h2>
<p>When the object holds references to other mutable objects, a shallow copy is dangerous.</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public class UserProfile implements Cloneable {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private String name;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private List&lt;String&gt; roles; // mutable — must be deep copied</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public UserProfile(String name, List&lt;String&gt; roles) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        this.name = name;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        this.roles = roles;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Shallow clone — DANGEROUS: both objects share the same roles list</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public UserProfile shallowClone() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        try {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return (UserProfile) super.clone();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        } catch (CloneNotSupportedException e) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            throw new RuntimeException(e);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Deep clone — safe: each object has its own roles list</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public UserProfile deepClone() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return new UserProfile(this.name, new ArrayList&lt;&gt;(this.roles));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public List&lt;String&gt; getRoles() { return roles; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public String getName() { return name; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Demonstrating the difference</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">UserProfile original = new UserProfile(&quot;Alice&quot;, new ArrayList&lt;&gt;(List.of(&quot;admin&quot;, &quot;editor&quot;)));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">UserProfile shallow = original.shallowClone();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">shallow.getRoles().add(&quot;viewer&quot;); // also modifies original&#x27;s list!</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">System.out.println(original.getRoles()); // [admin, editor, viewer] — unexpected!</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">UserProfile deep = original.deepClone();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">deep.getRoles().add(&quot;guest&quot;); // only modifies deep&#x27;s list</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">System.out.println(original.getRoles()); // [admin, editor, viewer] — unchanged</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="javas-built-in-cloneable">Java&#x27;s Built-in Cloneable<a href="#javas-built-in-cloneable" class="hash-link" aria-label="Direct link to Java&#x27;s Built-in Cloneable" title="Direct link to Java&#x27;s Built-in Cloneable" translate="no">​</a></h2>
<p>Java provides <code>Object.clone()</code> and the <code>Cloneable</code> marker interface, but there are well-known pitfalls:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Java&#x27;s Cloneable approach (use with caution)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class Point implements Cloneable {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private int x, y;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public Point(int x, int y) { this.x = x; this.y = y; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public Point clone() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        try {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return (Point) super.clone(); // performs shallow copy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        } catch (CloneNotSupportedException e) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            throw new AssertionError(); // can&#x27;t happen if Cloneable is implemented</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<p><strong>Prefer copy constructors or factory methods over <code>Cloneable</code></strong> — <code>Object.clone()</code> bypasses constructors, can silently produce shallow copies, and the <code>Cloneable</code> interface provides no <code>clone()</code> method to implement against.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="real-world-examples">Real-World Examples<a href="#real-world-examples" class="hash-link" aria-label="Direct link to Real-World Examples" title="Direct link to Real-World Examples" translate="no">​</a></h2>
<ul>
<li class=""><strong><code>Object.clone()</code></strong> — Java&#x27;s built-in shallow copy mechanism</li>
<li class=""><strong>Spring <code>BeanDefinition</code></strong> — bean definitions are prototyped (scope=&quot;prototype&quot;) to create new instances per request</li>
<li class=""><strong><code>ArrayList</code> copy constructor</strong> — <code>new ArrayList&lt;&gt;(existingList)</code> is a prototype-style shallow copy</li>
<li class=""><strong>Figma / design tools</strong> — duplicating a component creates an independent clone of the prototype</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="prototype-vs-similar-patterns">Prototype vs Similar Patterns<a href="#prototype-vs-similar-patterns" class="hash-link" aria-label="Direct link to Prototype vs Similar Patterns" title="Direct link to Prototype vs Similar Patterns" translate="no">​</a></h2>
<table><thead><tr><th>Pattern</th><th>Intent</th></tr></thead><tbody><tr><td><strong>Prototype</strong></td><td>Create new objects by cloning an existing instance</td></tr><tr><td><strong>Factory Method</strong></td><td>Create objects through a subclass-defined factory method</td></tr><tr><td><strong>Abstract Factory</strong></td><td>Create families of related objects through a factory interface</td></tr><tr><td><strong>Memento</strong></td><td>Captures state for restoration; not intended for creating new working objects</td></tr></tbody></table></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/design-patterns/creational/builder/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Builder Pattern</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/design-patterns/behavioral/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Behavioral Patterns</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#problem" class="table-of-contents__link toc-highlight">Problem</a></li><li><a href="#design-principles-applied" class="table-of-contents__link toc-highlight">Design Principles Applied</a></li><li><a href="#shallow-vs-deep-copy" class="table-of-contents__link toc-highlight">Shallow vs Deep Copy</a></li><li><a href="#uml-diagram" class="table-of-contents__link toc-highlight">UML Diagram</a></li><li><a href="#implementation" class="table-of-contents__link toc-highlight">Implementation</a><ul><li><a href="#example-1-shape-registry" class="table-of-contents__link toc-highlight">Example 1: Shape Registry</a></li><li><a href="#step-1-define-the-prototype-interface" class="table-of-contents__link toc-highlight">Step 1: Define the Prototype Interface</a></li><li><a href="#step-2-create-concrete-prototypes" class="table-of-contents__link toc-highlight">Step 2: Create Concrete Prototypes</a></li><li><a href="#step-3-create-a-prototype-registry" class="table-of-contents__link toc-highlight">Step 3: Create a Prototype Registry</a></li><li><a href="#step-4-client-usage" class="table-of-contents__link toc-highlight">Step 4: Client Usage</a></li></ul></li><li><a href="#example-2-deep-copy-with-nested-objects" class="table-of-contents__link toc-highlight">Example 2: Deep Copy with Nested Objects</a></li><li><a href="#javas-built-in-cloneable" class="table-of-contents__link toc-highlight">Java&#39;s Built-in Cloneable</a></li><li><a href="#real-world-examples" class="table-of-contents__link toc-highlight">Real-World Examples</a></li><li><a href="#prototype-vs-similar-patterns" class="table-of-contents__link toc-highlight">Prototype vs Similar Patterns</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Navigation</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/">Home</a></li><li class="footer__item"><a class="footer__link-item" href="/projects/">Projects</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/intro/">Documentation</a></li><li class="footer__item"><a class="footer__link-item" href="/blog/">Blog</a></li><li class="footer__item"><a href="/files/resume.pdf/" class="footer__link-item" target="_blank">Resume</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Social</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/ForeverAProgrammer" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.linkedin.com/in/kristina-haynes-94915147" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="mailto:kristinathecoder@gmail.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Email<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2026 kristina.codes</div></div></div></footer></div>
</body>
</html>