<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Understanding SQL Injection Through a Real-World Example | Kristina Haynes</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://kristina.codes/img/social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://kristina.codes/img/social-card.jpg"><meta data-rh="true" property="og:url" content="https://kristina.codes/blog/sql-injection-apostrophe-lesson/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="Understanding SQL Injection Through a Real-World Example | Kristina Haynes"><meta data-rh="true" name="description" content="SQL injection vulnerabilities can occur in unexpected places, including simple text inputs. This post examines how an apostrophe in a name exposed a SQL injection vulnerability and provides practical guidance on preventing these security issues through parameterized queries."><meta data-rh="true" property="og:description" content="SQL injection vulnerabilities can occur in unexpected places, including simple text inputs. This post examines how an apostrophe in a name exposed a SQL injection vulnerability and provides practical guidance on preventing these security issues through parameterized queries."><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2024-11-29T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://www.linkedin.com/in/kristina-haynes-94915147"><meta data-rh="true" property="article:tag" content="Security,SQL,Database,Web Security,Lessons Learned"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://kristina.codes/blog/sql-injection-apostrophe-lesson/"><link data-rh="true" rel="alternate" href="https://kristina.codes/blog/sql-injection-apostrophe-lesson/" hreflang="en"><link data-rh="true" rel="alternate" href="https://kristina.codes/blog/sql-injection-apostrophe-lesson/" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","@id":"https://kristina.codes/blog/sql-injection-apostrophe-lesson","mainEntityOfPage":"https://kristina.codes/blog/sql-injection-apostrophe-lesson","url":"https://kristina.codes/blog/sql-injection-apostrophe-lesson","headline":"Understanding SQL Injection Through a Real-World Example","name":"Understanding SQL Injection Through a Real-World Example","description":"SQL injection vulnerabilities can occur in unexpected places, including simple text inputs. This post examines how an apostrophe in a name exposed a SQL injection vulnerability and provides practical guidance on preventing these security issues through parameterized queries.","datePublished":"2024-11-29T00:00:00.000Z","author":{"@type":"Person","name":"Kristina Haynes","description":"DevOps Engineer & Full Stack Developer","url":"https://www.linkedin.com/in/kristina-haynes-94915147","image":"https://avatars.githubusercontent.com/u/21247589?v=4"},"keywords":[],"isPartOf":{"@type":"Blog","@id":"https://kristina.codes/blog","name":"Blog"}}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Kristina Haynes RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Kristina Haynes Atom Feed">




<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-21C6F7B0PE"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-21C6F7B0PE",{anonymize_ip:!0})</script><link rel="stylesheet" href="/assets/css/styles.2ec9d87a.css">
<script src="/assets/js/runtime~main.61e6cbc7.js" defer="defer"></script>
<script src="/assets/js/main.03368c67.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/logo.svg"><link rel="preload" as="image" href="https://avatars.githubusercontent.com/u/21247589?v=4"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="kristina.codes Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="kristina.codes Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">kristina.codes</b></a><a class="navbar__item navbar__link" href="/">Home</a><a class="navbar__item navbar__link" href="/projects/">Projects</a><a class="navbar__item navbar__link" href="/docs/intro/">Documentation</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog/">Blog</a><a href="https://kristina.codes/files/resume.pdf" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Resume<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/ForeverAProgrammer" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><div role="group"><h3 class="yearGroupHeading_rMGB">2026</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/gitlab-cicd-pipelines/">Building CI/CD Pipelines with GitLab</a></li></ul></div><div role="group"><h3 class="yearGroupHeading_rMGB">2024</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a aria-current="page" class="sidebarItemLink_mo7H sidebarItemLinkActive_I1ZP" href="/blog/sql-injection-apostrophe-lesson/">Understanding SQL Injection Through a Real-World Example</a></li></ul></div><div role="group"><h3 class="yearGroupHeading_rMGB">2020</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/cms-empowering-users-freeing-developers/">How a CMS Enables Self-Service Content Management</a></li></ul></div><div role="group"><h3 class="yearGroupHeading_rMGB">2017</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/four-questions-every-developer-should-ask/">Four Questions to Ask Before Writing Code</a></li></ul></div></nav></aside><main class="col col--7"><article class=""><header><h1 class="title_f1Hy">Understanding SQL Injection Through a Real-World Example</h1><div class="container_mt6G margin-vert--md"><time datetime="2024-11-29T00:00:00.000Z">November 29, 2024</time> · <!-- -->8 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a class="avatar__photo-link" href="/blog/authors/kristina-haynes/"><img class="avatar__photo authorImage_XqGP" src="https://avatars.githubusercontent.com/u/21247589?v=4" alt="Kristina Haynes"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="/blog/authors/kristina-haynes/"><span class="authorName_yefp" translate="no">Kristina Haynes</span></a></div><small class="authorTitle_nd0D" title="DevOps Engineer &amp; Full Stack Developer">DevOps Engineer &amp; Full Stack Developer</small><div class="authorSocials_rSDt"><a href="https://www.linkedin.com/in/kristina-haynes-94915147" target="_blank" rel="noopener noreferrer" class="authorSocialLink_owbf" title="LinkedIn"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" preserveAspectRatio="xMidYMid" viewBox="0 0 256 256" style="--dark:#0a66c2;--light:#ffffffe6" class="authorSocialIcon_XYv3 linkedinSvg_FCgI"><path d="M218.123 218.127h-37.931v-59.403c0-14.165-.253-32.4-19.728-32.4-19.756 0-22.779 15.434-22.779 31.369v60.43h-37.93V95.967h36.413v16.694h.51a39.907 39.907 0 0 1 35.928-19.733c38.445 0 45.533 25.288 45.533 58.186l-.016 67.013ZM56.955 79.27c-12.157.002-22.014-9.852-22.016-22.009-.002-12.157 9.851-22.014 22.008-22.016 12.157-.003 22.014 9.851 22.016 22.008A22.013 22.013 0 0 1 56.955 79.27m18.966 138.858H37.95V95.967h37.97v122.16ZM237.033.018H18.89C8.58-.098.125 8.161-.001 18.471v219.053c.122 10.315 8.576 18.582 18.89 18.474h218.144c10.336.128 18.823-8.139 18.966-18.474V18.454c-.147-10.33-8.635-18.588-18.966-18.453"></path></svg></a><a href="https://github.com/ForeverAProgrammer" target="_blank" rel="noopener noreferrer" class="authorSocialLink_owbf" title="GitHub"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 256 250" preserveAspectRatio="xMidYMid" style="--dark:#000;--light:#fff" class="authorSocialIcon_XYv3 githubSvg_Uu4N"><path d="M128.001 0C57.317 0 0 57.307 0 128.001c0 56.554 36.676 104.535 87.535 121.46 6.397 1.185 8.746-2.777 8.746-6.158 0-3.052-.12-13.135-.174-23.83-35.61 7.742-43.124-15.103-43.124-15.103-5.823-14.795-14.213-18.73-14.213-18.73-11.613-7.944.876-7.78.876-7.78 12.853.902 19.621 13.19 19.621 13.19 11.417 19.568 29.945 13.911 37.249 10.64 1.149-8.272 4.466-13.92 8.127-17.116-28.431-3.236-58.318-14.212-58.318-63.258 0-13.975 5-25.394 13.188-34.358-1.329-3.224-5.71-16.242 1.24-33.874 0 0 10.749-3.44 35.21 13.121 10.21-2.836 21.16-4.258 32.038-4.307 10.878.049 21.837 1.47 32.066 4.307 24.431-16.56 35.165-13.12 35.165-13.12 6.967 17.63 2.584 30.65 1.255 33.873 8.207 8.964 13.173 20.383 13.173 34.358 0 49.163-29.944 59.988-58.447 63.157 4.591 3.972 8.682 11.762 8.682 23.704 0 17.126-.148 30.91-.148 35.126 0 3.407 2.304 7.398 8.792 6.14C219.37 232.5 256 184.537 256 128.002 256 57.307 198.691 0 128.001 0Zm-80.06 182.34c-.282.636-1.283.827-2.194.39-.929-.417-1.45-1.284-1.15-1.922.276-.655 1.279-.838 2.205-.399.93.418 1.46 1.293 1.139 1.931Zm6.296 5.618c-.61.566-1.804.303-2.614-.591-.837-.892-.994-2.086-.375-2.66.63-.566 1.787-.301 2.626.591.838.903 1 2.088.363 2.66Zm4.32 7.188c-.785.545-2.067.034-2.86-1.104-.784-1.138-.784-2.503.017-3.05.795-.547 2.058-.055 2.861 1.075.782 1.157.782 2.522-.019 3.08Zm7.304 8.325c-.701.774-2.196.566-3.29-.49-1.119-1.032-1.43-2.496-.726-3.27.71-.776 2.213-.558 3.315.49 1.11 1.03 1.45 2.505.701 3.27Zm9.442 2.81c-.31 1.003-1.75 1.459-3.199 1.033-1.448-.439-2.395-1.613-2.103-2.626.301-1.01 1.747-1.484 3.207-1.028 1.446.436 2.396 1.602 2.095 2.622Zm10.744 1.193c.036 1.055-1.193 1.93-2.715 1.95-1.53.034-2.769-.82-2.786-1.86 0-1.065 1.202-1.932 2.733-1.958 1.522-.03 2.768.818 2.768 1.868Zm10.555-.405c.182 1.03-.875 2.088-2.387 2.37-1.485.271-2.861-.365-3.05-1.386-.184-1.056.893-2.114 2.376-2.387 1.514-.263 2.868.356 3.061 1.403Z"></path></svg></a></div></div></div></div></div></header><div id="__blog-post-container" class="markdown"><p>SQL injection vulnerabilities can occur in unexpected places, including simple text inputs. This post examines how an apostrophe in a name exposed a SQL injection vulnerability and provides practical guidance on preventing these security issues through parameterized queries.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-training-class-disaster">The Training Class Disaster<a href="#the-training-class-disaster" class="hash-link" aria-label="Direct link to The Training Class Disaster" title="Direct link to The Training Class Disaster" translate="no">​</a></h2>
<p>Fresh out of college, I landed my first software engineering job. Like many companies hiring junior developers, they started us with a two-week training class designed to teach us basic programming skills and how to interact with a SQL database.</p>
<p>Our project seemed straightforward: build a C# application to manage a bookstore&#x27;s inventory based on a detailed requirements document. The system needed to track books, authors, and most importantly, author royalties (payments) for books that were purchased. We worked hard, implemented all the features, and felt confident heading into our final demo.</p>
<p>Then came the moment that would horrify me.</p>
<p>During the demo in front of the whole company, someone in the audience asked us to demonstrate adding a new author to the system named &quot;Conan O&#x27;Brien&quot;.</p>
<p>I watched in horror as our carefully crafted application crashed instantly in front of everyone.</p>
<p><strong>The culprit? A single apostrophe.</strong></p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="history-repeats-itself">History Repeats Itself<a href="#history-repeats-itself" class="hash-link" aria-label="Direct link to History Repeats Itself" title="Direct link to History Repeats Itself" translate="no">​</a></h2>
<p>That training class taught me a valuable lesson about SQL injection. Years later, I received an urgent support ticket about a user that was logging into our site and reported that they were seeing another user&#x27;s account information.</p>
<p>After investigating, I discovered the root cause: the user&#x27;s name contained an apostrophe (like O&#x27;Brian, O&#x27;Connor, or D&#x27;Angelo). The same SQL injection problem that I had witnessed during my training class also existed in this website&#x27;s codebase.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="understanding-the-vulnerability">Understanding the Vulnerability<a href="#understanding-the-vulnerability" class="hash-link" aria-label="Direct link to Understanding the Vulnerability" title="Direct link to Understanding the Vulnerability" translate="no">​</a></h2>
<p>This section explains why apostrophes cause SQL injection vulnerabilities and why they pose a serious security risk.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-basic-sql-query">The Basic SQL Query<a href="#the-basic-sql-query" class="hash-link" aria-label="Direct link to The Basic SQL Query" title="Direct link to The Basic SQL Query" translate="no">​</a></h3>
<p>Here&#x27;s what a typical login query looks like:</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> userID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> userName</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> firstName</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> lastName</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> Users</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> userName </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;inputted username&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">AND</span><span class="token plain"> password </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;inputted password&#x27;</span><br></span></code></pre></div></div>
<p>This seems harmless enough—until you understand how SQL handles apostrophes.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="when-apostrophes-attack">When Apostrophes Attack<a href="#when-apostrophes-attack" class="hash-link" aria-label="Direct link to When Apostrophes Attack" title="Direct link to When Apostrophes Attack" translate="no">​</a></h3>
<p>In SQL, single quotes (<code>&#x27;</code>) are used to delimit string literals. When you have an apostrophe in user input like <strong>O&#x27;Brian</strong>, here&#x27;s what actually gets sent to the database:</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> userID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> userName</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> firstName</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> lastName</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> Users</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> userName </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;O&#x27;</span><span class="token plain">Brian</span><span class="token string" style="color:#e3116c">&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  AND password = &#x27;</span><span class="token plain">password123&#x27;</span><br></span></code></pre></div></div>
<p>From SQL&#x27;s perspective, this query looks like:</p>
<ol>
<li class="">A string starting with <code>&#x27;O&#x27;</code></li>
<li class="">Random text <code>Brian</code> (which it doesn&#x27;t understand)</li>
<li class="">Another string starting with <code>&#x27;Brian&#x27;</code></li>
</ol>
<p><strong>Result: Syntax error. Application crash.</strong></p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-real-danger-sql-injection">The Real Danger: SQL Injection<a href="#the-real-danger-sql-injection" class="hash-link" aria-label="Direct link to The Real Danger: SQL Injection" title="Direct link to The Real Danger: SQL Injection" translate="no">​</a></h2>
<p>While our apostrophe crash was embarrassing, it was relatively harmless. The real threat is <strong>SQL injection attacks</strong>—and they can be devastating.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="a-malicious-example">A Malicious Example<a href="#a-malicious-example" class="hash-link" aria-label="Direct link to A Malicious Example" title="Direct link to A Malicious Example" translate="no">​</a></h3>
<p>Imagine a hacker enters these credentials:</p>
<ul>
<li class=""><strong>Username</strong>: <code>kristina</code></li>
<li class=""><strong>Password</strong>: <code>x&#x27; DROP TABLE Users; --</code></li>
</ul>
<p>The resulting SQL query becomes:</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> userID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> userName</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> firstName</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> lastName</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> Users</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> userName </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;kristina&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">AND</span><span class="token plain"> password </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;x&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">DROP</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">TABLE</span><span class="token plain"> Users</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">--&#x27;</span><br></span></code></pre></div></div>
<p>Let&#x27;s parse what just happened:</p>
<ol>
<li class=""><code>WHERE userName = &#x27;kristina&#x27;</code> - Valid condition</li>
<li class=""><code>AND password = &#x27;x&#x27;</code> - Valid condition (though it won&#x27;t match)</li>
<li class=""><code>DROP TABLE Users;</code> - <strong>Deletes the entire Users table</strong></li>
<li class=""><code>--</code> - SQL comment that ignores everything after</li>
</ol>
<p><strong>In one login attempt, the attacker just deleted your entire user database.</strong></p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="more-sophisticated-attacks">More Sophisticated Attacks<a href="#more-sophisticated-attacks" class="hash-link" aria-label="Direct link to More Sophisticated Attacks" title="Direct link to More Sophisticated Attacks" translate="no">​</a></h3>
<p>SQL injection can be used for:</p>
<p><strong>Data Exfiltration</strong>:</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">&#x27; OR &#x27;</span><span class="token number" style="color:#36acaa">1</span><span class="token string" style="color:#e3116c">&#x27;=&#x27;</span><span class="token number" style="color:#36acaa">1</span><span class="token plain">&#x27; </span><span class="token comment" style="color:#999988;font-style:italic">--</span><br></span></code></pre></div></div>
<p>This bypasses authentication by making the WHERE clause always true.</p>
<p><strong>Database Enumeration</strong>:</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&#x27; </span><span class="token keyword" style="color:#00009f">UNION</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> table_name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> column_name </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> information_schema</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">columns</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">--</span><br></span></code></pre></div></div>
<p>Reveals your entire database structure.</p>
<p><strong>Privilege Escalation</strong>:</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">&#x27;; UPDATE Users SET role=&#x27;</span><span class="token plain">admin</span><span class="token string" style="color:#e3116c">&#x27; WHERE userName=&#x27;</span><span class="token plain">hacker&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">--</span><br></span></code></pre></div></div>
<p>Grants administrative access to any account.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-fix-parameterized-queries">The Fix: Parameterized Queries<a href="#the-fix-parameterized-queries" class="hash-link" aria-label="Direct link to The Fix: Parameterized Queries" title="Direct link to The Fix: Parameterized Queries" translate="no">​</a></h2>
<p>The solution is surprisingly simple: <strong>never concatenate user input directly into SQL queries</strong>. Instead, use <strong>parameterized queries</strong> (also called prepared statements).</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="c-example-unsafe-vs-safe">C# Example (Unsafe vs Safe)<a href="#c-example-unsafe-vs-safe" class="hash-link" aria-label="Direct link to C# Example (Unsafe vs Safe)" title="Direct link to C# Example (Unsafe vs Safe)" translate="no">​</a></h3>
<p><strong>❌ VULNERABLE CODE</strong>:</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// DON&#x27;T DO THIS!</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">string query = $&quot;SELECT * FROM Users WHERE userName = &#x27;{username}&#x27; AND password = &#x27;{password}&#x27;&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SqlCommand command = new SqlCommand(query, connection);</span><br></span></code></pre></div></div>
<p><strong>✅ SECURE CODE</strong>:</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// DO THIS instead</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">string query = &quot;SELECT * FROM Users WHERE userName = @username AND password = @password&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SqlCommand command = new SqlCommand(query, connection);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">command.Parameters.AddWithValue(&quot;@username&quot;, username);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">command.Parameters.AddWithValue(&quot;@password&quot;, password);</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="other-languages">Other Languages<a href="#other-languages" class="hash-link" aria-label="Direct link to Other Languages" title="Direct link to Other Languages" translate="no">​</a></h3>
<p><strong>Java (JDBC)</strong>:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">String query = &quot;SELECT * FROM Users WHERE userName = ? AND password = ?&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PreparedStatement pstmt = connection.prepareStatement(query);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pstmt.setString(1, username);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pstmt.setString(2, password);</span><br></span></code></pre></div></div>
<p><strong>Python (SQLite)</strong>:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cursor</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">execute</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;SELECT * FROM Users WHERE userName = ? AND password = ?&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">username</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> password</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p><strong>JavaScript (Node.js with MySQL)</strong>:</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">connection</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">query</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&#x27;SELECT * FROM Users WHERE userName = ? AND password = ?&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">username</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> password</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">error</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> results</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">/* ... */</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p><strong>PHP (PDO)</strong>:</p>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$stmt = $pdo-&gt;prepare(&#x27;SELECT * FROM Users WHERE userName = :username AND password = :password&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$stmt-&gt;execute([&#x27;username&#x27; =&gt; $username, &#x27;password&#x27; =&gt; $password]);</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="why-parameterized-queries-work">Why Parameterized Queries Work<a href="#why-parameterized-queries-work" class="hash-link" aria-label="Direct link to Why Parameterized Queries Work" title="Direct link to Why Parameterized Queries Work" translate="no">​</a></h2>
<p>When you use parameterized queries:</p>
<ol>
<li class=""><strong>Separation of Code and Data</strong>: The database knows which parts are commands and which are data</li>
<li class=""><strong>Automatic Escaping</strong>: The database driver properly escapes special characters</li>
<li class=""><strong>Type Safety</strong>: Parameters are strongly typed, preventing type confusion attacks</li>
<li class=""><strong>Performance</strong>: Prepared statements can be cached and reused</li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="defense-in-depth-additional-security-layers">Defense in Depth: Additional Security Layers<a href="#defense-in-depth-additional-security-layers" class="hash-link" aria-label="Direct link to Defense in Depth: Additional Security Layers" title="Direct link to Defense in Depth: Additional Security Layers" translate="no">​</a></h2>
<p>While parameterized queries are essential, follow these additional best practices:</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-input-validation">1. Input Validation<a href="#1-input-validation" class="hash-link" aria-label="Direct link to 1. Input Validation" title="Direct link to 1. Input Validation" translate="no">​</a></h3>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Validate username format</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">if (!Regex.IsMatch(username, @&quot;^[a-zA-Z0-9_\-\.@]{3,50}$&quot;))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    throw new ArgumentException(&quot;Invalid username format&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-principle-of-least-privilege">2. Principle of Least Privilege<a href="#2-principle-of-least-privilege" class="hash-link" aria-label="Direct link to 2. Principle of Least Privilege" title="Direct link to 2. Principle of Least Privilege" translate="no">​</a></h3>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- Database user should only have necessary permissions</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">GRANT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">INSERT</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">UPDATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">ON</span><span class="token plain"> Users </span><span class="token keyword" style="color:#00009f">TO</span><span class="token plain"> app_user</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- Don&#x27;t grant DROP, DELETE, or ALTER</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-web-application-firewall-waf">3. Web Application Firewall (WAF)<a href="#3-web-application-firewall-waf" class="hash-link" aria-label="Direct link to 3. Web Application Firewall (WAF)" title="Direct link to 3. Web Application Firewall (WAF)" translate="no">​</a></h3>
<p>A Web Application Firewall (WAF) acts as a protective layer between your application and incoming traffic, analyzing HTTP requests to detect and block malicious patterns before they reach your application code.</p>
<p><strong>What a WAF does:</strong></p>
<ul>
<li class="">Monitors and filters HTTP/HTTPS traffic</li>
<li class="">Detects common attack patterns including SQL injection, XSS, and CSRF</li>
<li class="">Blocks suspicious requests based on predefined rules and patterns</li>
<li class="">Provides logging and alerting for security incidents</li>
</ul>
<p><strong>Popular WAF solutions:</strong></p>
<ul>
<li class=""><strong>Cloud-based:</strong> <a href="https://aws.amazon.com/waf/" target="_blank" rel="noopener noreferrer" class="">AWS WAF</a>, <a href="https://www.cloudflare.com/application-services/products/waf/" target="_blank" rel="noopener noreferrer" class="">Cloudflare WAF</a>, <a href="https://azure.microsoft.com/en-us/products/web-application-firewall" target="_blank" rel="noopener noreferrer" class="">Azure WAF</a></li>
<li class=""><strong>Open-source:</strong> <a href="https://github.com/SpiderLabs/ModSecurity" target="_blank" rel="noopener noreferrer" class="">ModSecurity</a></li>
<li class=""><strong>Enterprise:</strong> <a href="https://www.imperva.com/products/web-application-firewall-waf/" target="_blank" rel="noopener noreferrer" class="">Imperva</a>, <a href="https://www.f5.com/products/security/advanced-waf" target="_blank" rel="noopener noreferrer" class="">F5</a>, <a href="https://www.akamai.com/products/app-and-api-protector" target="_blank" rel="noopener noreferrer" class="">Akamai</a></li>
</ul>
<p><strong>Example WAF rule to block SQL injection:</strong>
A WAF can detect patterns like <code>&#x27; OR &#x27;1&#x27;=&#x27;1</code>, <code>UNION SELECT</code>, <code>DROP TABLE</code>, and other SQL keywords in request parameters, blocking the request before it reaches your database.</p>
<p><strong>Important:</strong> While WAFs provide an additional security layer, they should complement—not replace—proper input validation and parameterized queries in your application code.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="4-regular-security-audits">4. Regular Security Audits<a href="#4-regular-security-audits" class="hash-link" aria-label="Direct link to 4. Regular Security Audits" title="Direct link to 4. Regular Security Audits" translate="no">​</a></h3>
<p>Use tools like:</p>
<ul>
<li class=""><strong><a href="https://sqlmap.org/" target="_blank" rel="noopener noreferrer" class="">SQLMap</a></strong> - Automated SQL injection testing</li>
<li class=""><strong><a href="https://www.zaproxy.org/" target="_blank" rel="noopener noreferrer" class="">OWASP ZAP</a></strong> - Web application security scanner</li>
<li class=""><strong>Static code analysis</strong> - Tools like <a href="https://www.sonarsource.com/products/sonarqube/" target="_blank" rel="noopener noreferrer" class="">SonarQube</a>, <a href="https://checkmarx.com/" target="_blank" rel="noopener noreferrer" class="">Checkmarx</a></li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="5-error-handling">5. Error Handling<a href="#5-error-handling" class="hash-link" aria-label="Direct link to 5. Error Handling" title="Direct link to 5. Error Handling" translate="no">​</a></h3>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// DON&#x27;T expose database errors to users</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">try</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Database operation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">catch (SqlException ex)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Log detailed error internally</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    logger.Error(ex);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Return generic error to user</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return &quot;An error occurred. Please try again later.&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="real-world-impact">Real-World Impact<a href="#real-world-impact" class="hash-link" aria-label="Direct link to Real-World Impact" title="Direct link to Real-World Impact" translate="no">​</a></h2>
<p>SQL injection isn&#x27;t just a theoretical threat. Major breaches include:</p>
<ul>
<li class=""><strong>Heartland Payment Systems (2008)</strong>: 130 million credit cards stolen</li>
<li class=""><strong>Sony Pictures (2011)</strong>: 1 million accounts compromised</li>
<li class=""><strong>Yahoo (2012)</strong>: 450,000 passwords leaked</li>
<li class=""><strong>British Airways (2018)</strong>: £20 million GDPR fine</li>
</ul>
<p>According to OWASP, injection attacks (including SQL injection) consistently rank in the <strong>Top 3 web application security risks</strong>.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="testing-your-application">Testing Your Application<a href="#testing-your-application" class="hash-link" aria-label="Direct link to Testing Your Application" title="Direct link to Testing Your Application" translate="no">​</a></h2>
<p>Here are some test inputs to verify your application handles special characters safely:</p>
<p><strong>Names with Apostrophes</strong>:</p>
<ul>
<li class="">O&#x27;Brian</li>
<li class="">D&#x27;Angelo</li>
<li class="">O&#x27;Connor</li>
<li class="">Mary&#x27;s</li>
</ul>
<p><strong>SQL Injection Attempts</strong>:</p>
<ul>
<li class=""><code>&#x27; OR &#x27;1&#x27;=&#x27;1</code></li>
<li class=""><code>&#x27;; DROP TABLE Users; --</code></li>
<li class=""><code>admin&#x27; --</code></li>
<li class=""><code>&#x27; UNION SELECT NULL, NULL, NULL --</code></li>
</ul>
<p><strong>Edge Cases</strong>:</p>
<ul>
<li class="">Empty strings</li>
<li class="">Very long inputs (&gt;1000 characters)</li>
<li class="">Unicode characters (e.g., <code>测试用户</code>)</li>
<li class="">Special SQL characters: <code>%</code>, <code>_</code>, <code>\</code>, <code>&quot;</code>, <code>;</code></li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="lessons-learned">Lessons Learned<a href="#lessons-learned" class="hash-link" aria-label="Direct link to Lessons Learned" title="Direct link to Lessons Learned" translate="no">​</a></h2>
<p>Looking back on that training class disaster and the production incident, here are my key takeaways:</p>
<ol>
<li class=""><strong>Security isn&#x27;t optional</strong>: It should be built in from day one, not added later</li>
<li class=""><strong>Assume all input is malicious</strong>: Never trust user input, even from &quot;trusted&quot; sources</li>
<li class=""><strong>Use ORMs carefully</strong>: While frameworks like Entity Framework help, you still need to understand SQL injection</li>
<li class=""><strong>Test with real-world data</strong>: Names like O&#x27;Brian, José, or 北京 expose hidden bugs</li>
<li class=""><strong>Security is everyone&#x27;s responsibility</strong>: Not just the security team&#x27;s job</li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="resources-for-learning-more">Resources for Learning More<a href="#resources-for-learning-more" class="hash-link" aria-label="Direct link to Resources for Learning More" title="Direct link to Resources for Learning More" translate="no">​</a></h2>
<ul>
<li class=""><strong><a href="https://owasp.org/www-community/attacks/SQL_Injection" target="_blank" rel="noopener noreferrer" class="">OWASP SQL Injection Guide</a></strong> - Comprehensive resource</li>
<li class=""><strong><a href="http://www.unixwiz.net/techtips/sql-injection.html" target="_blank" rel="noopener noreferrer" class="">SQL Injection Explained</a></strong> - Detailed technical breakdown</li>
<li class=""><strong><a href="https://portswigger.net/web-security/sql-injection" target="_blank" rel="noopener noreferrer" class="">PortSwigger SQL Injection Labs</a></strong> - Hands-on practice</li>
<li class=""><strong><a href="https://bobby-tables.com/" target="_blank" rel="noopener noreferrer" class="">Bobby Tables</a></strong> - Language-specific parameterized query examples</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion" translate="no">​</a></h2>
<p>A simple apostrophe taught me one of the most valuable lessons in my career: <strong>never underestimate the importance of input validation and parameterized queries</strong>.</p>
<p>Whether you&#x27;re building a simple bookstore application or a complex enterprise system, SQL injection vulnerabilities can have catastrophic consequences. The good news? The fix is straightforward: use parameterized queries, validate input, and follow security best practices.</p>
<p>Don&#x27;t let an apostrophe bring down your production system. Learn from my mistakes, secure your code, and remember: if it can accept user input, it can be exploited.</p>
<hr>
<p><strong>Have you encountered SQL injection in the wild? Share your stories in the comments below!</strong></p>
<p><em>Thanks to Little Bobby Tables for inspiring generations of developers to take SQL injection seriously.</em></p>
<p><img decoding="async" loading="lazy" src="https://imgs.xkcd.com/comics/exploits_of_a_mom.png" alt="Little Bobby Tables XKCD" class="img_ev3q">
<em>Source: <a href="https://xkcd.com/327/" target="_blank" rel="noopener noreferrer" class="">XKCD #327</a></em></p></div><footer class="docusaurus-mt-lg"><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a rel="tag" title="Software security practices" class="tag_zVej tagRegular_sFm0" href="/blog/tags/security/">Security</a></li><li class="tag_QGVx"><a rel="tag" title="SQL databases and queries" class="tag_zVej tagRegular_sFm0" href="/blog/tags/sql/">SQL</a></li><li class="tag_QGVx"><a rel="tag" title="Database management and design" class="tag_zVej tagRegular_sFm0" href="/blog/tags/database/">Database</a></li><li class="tag_QGVx"><a rel="tag" title="Web application security" class="tag_zVej tagRegular_sFm0" href="/blog/tags/web-security/">Web Security</a></li><li class="tag_QGVx"><a rel="tag" title="Lessons learned from real experiences" class="tag_zVej tagRegular_sFm0" href="/blog/tags/lessons-learned/">Lessons Learned</a></li></ul></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/blog/gitlab-cicd-pipelines/"><div class="pagination-nav__sublabel">Newer post</div><div class="pagination-nav__label">Building CI/CD Pipelines with GitLab</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/blog/cms-empowering-users-freeing-developers/"><div class="pagination-nav__sublabel">Older post</div><div class="pagination-nav__label">How a CMS Enables Self-Service Content Management</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#the-training-class-disaster" class="table-of-contents__link toc-highlight">The Training Class Disaster</a></li><li><a href="#history-repeats-itself" class="table-of-contents__link toc-highlight">History Repeats Itself</a></li><li><a href="#understanding-the-vulnerability" class="table-of-contents__link toc-highlight">Understanding the Vulnerability</a><ul><li><a href="#the-basic-sql-query" class="table-of-contents__link toc-highlight">The Basic SQL Query</a></li><li><a href="#when-apostrophes-attack" class="table-of-contents__link toc-highlight">When Apostrophes Attack</a></li></ul></li><li><a href="#the-real-danger-sql-injection" class="table-of-contents__link toc-highlight">The Real Danger: SQL Injection</a><ul><li><a href="#a-malicious-example" class="table-of-contents__link toc-highlight">A Malicious Example</a></li><li><a href="#more-sophisticated-attacks" class="table-of-contents__link toc-highlight">More Sophisticated Attacks</a></li></ul></li><li><a href="#the-fix-parameterized-queries" class="table-of-contents__link toc-highlight">The Fix: Parameterized Queries</a><ul><li><a href="#c-example-unsafe-vs-safe" class="table-of-contents__link toc-highlight">C# Example (Unsafe vs Safe)</a></li><li><a href="#other-languages" class="table-of-contents__link toc-highlight">Other Languages</a></li></ul></li><li><a href="#why-parameterized-queries-work" class="table-of-contents__link toc-highlight">Why Parameterized Queries Work</a></li><li><a href="#defense-in-depth-additional-security-layers" class="table-of-contents__link toc-highlight">Defense in Depth: Additional Security Layers</a><ul><li><a href="#1-input-validation" class="table-of-contents__link toc-highlight">1. Input Validation</a></li><li><a href="#2-principle-of-least-privilege" class="table-of-contents__link toc-highlight">2. Principle of Least Privilege</a></li><li><a href="#3-web-application-firewall-waf" class="table-of-contents__link toc-highlight">3. Web Application Firewall (WAF)</a></li><li><a href="#4-regular-security-audits" class="table-of-contents__link toc-highlight">4. Regular Security Audits</a></li><li><a href="#5-error-handling" class="table-of-contents__link toc-highlight">5. Error Handling</a></li></ul></li><li><a href="#real-world-impact" class="table-of-contents__link toc-highlight">Real-World Impact</a></li><li><a href="#testing-your-application" class="table-of-contents__link toc-highlight">Testing Your Application</a></li><li><a href="#lessons-learned" class="table-of-contents__link toc-highlight">Lessons Learned</a></li><li><a href="#resources-for-learning-more" class="table-of-contents__link toc-highlight">Resources for Learning More</a></li><li><a href="#conclusion" class="table-of-contents__link toc-highlight">Conclusion</a></li></ul></div></div></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Navigation</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/">Home</a></li><li class="footer__item"><a class="footer__link-item" href="/projects/">Projects</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/intro/">Documentation</a></li><li class="footer__item"><a class="footer__link-item" href="/blog/">Blog</a></li><li class="footer__item"><a href="https://kristina.codes/files/resume.pdf" target="_blank" rel="noopener noreferrer" class="footer__link-item">Resume<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Social</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/ForeverAProgrammer" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.linkedin.com/in/kristina-haynes-94915147" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="mailto:kristinathecoder@gmail.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Email<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2026 kristina.codes</div></div></div></footer></div>
</body>
</html>